{"version":3,"sources":["init/routerEnums.ts","modals/TestModal/TestModal.tsx","store/routerStore.ts","modals/RootModal.tsx","components/TestCell.tsx","utils.tsx","api/Api.ts","panels/Home/Home.tsx","components/Image.tsx","panels/Test/FirstClickContent.tsx","panels/Test/Questions.tsx","panels/Test/FiveSecContent.tsx","panels/Test/SideBySideContent.tsx","panels/Test/TestContent.tsx","panels/Test/Test.tsx","panels/Success/Success.tsx","panels/MyTests/MyTests.tsx","panels/Statistic/SideBySideStat.tsx","panels/Statistic/FirstClickStat.tsx","panels/Statistic/FiveSecStat.tsx","panels/Statistic/Statistic.tsx","store/createTestStore.ts","panels/CreateQuestion/CreateQuestion.tsx","panels/CreateTest/CreateTest.tsx","panels/EditQuestion/EditQuestion.tsx","App.tsx","init/Adaptive.tsx","init/ConfigProvider.tsx","index.tsx"],"names":["ViewIds","PanelIds","ModalIds","TestModal","memo","id","onClose","right","onClick","useRouterStore","create","set","get","panelHistory","Home","activePanel","panelParams","setActivePanel","params","state","closeActivePanel","currentPanelHistory","currentPanelParams","slice","length","lastIndex","actionBackPanel","modalHistory","activeModal","setActiveModal","closeActiveModal","currentModalHistory","actionBackModal","viewHistory","BaseFlow","activeView","setActiveView","closeActiveView","currentViewHistory","actionBackView","RootModal","TestCell","style","disabled","cellProps","multiline","boxShadow","borderRadius","marginBottom","backgroundColor","getCaption","type","getAfterText","status","getIcon","height","width","fill","marginRight","marginTop","pluralString","num","textFor1","textFor2","textForMany","remainderOfHundred","Math","abs","remainderOfTen","authParams","rParams","location","search","split","forEach","value","param","getAuthParams","fetchData","a","url","method","data","options","mode","cache","credentials","headers","Authorization","JSON","stringify","redirect","referrerPolicy","body","fetch","response","Error","contentType","indexOf","json","text","useState","availableTests","setAvailableTests","unavailableTests","setUnavailableTests","loading","setLoading","error","setError","useEffect","hashParams","window","hash","replace","reduce","acc","cur","key","test","Test","avTests","historyTests","completed","uncompleted","push","reverse","separator","padding","paddingTop","paddingBottom","selected","MyTests","icon","weight","map","_id","testType","title","caption","before","after","actions","opacity","Image","imgUrl","onLoadCallback","rest","imgRef","useRef","imgIsLoaded","setImgIsLoaded","onLoadCallbackRef","current","onload","display","complete","Event","ref","src","alt","e","getBoundingClientRect","left","top","Question","index","len","color","clientX","clientY","textAlign","FirstClickContent","questions","currentQuestion","setCurrentQuestion","handleOnClick","answer","questionId","Success","testName","setValue","showImage","setShowImage","setTimeout","onChange","ev","target","placeholder","Questions","FiveSecContent","setSelected","idx","slideIndex","bullets","showArrows","slideWidth","href","rel","name","checked","SideBySideContent","TestContent","testData","startContent","getContent","content","setContent","description","action","header","setTestData","alignItems","myTests","setMyTests","onTestStatusChange","useCallback","copyLinkToClipboard","bridge","send","deleteTest","tests","aside","CreateTest","counter","aria-label","defaultChecked","Statistic","testId","size","ProgressWithLabel","percent","label","gap","SideBySideStat","question","sep","total","results","firstTotal","filter","item","twoTotal","gridGap","image","floor","Bullet","x","y","position","border","FirstClickStat","res","Comment","date","Date","toLocaleDateString","hour","minute","FiveSecStat","createdAt","setResults","getResults","renderStatistic","useCreateTestStore","updateName","updateDescription","desc","updateType","appendQuestion","deleteQuestion","newQuestions","splice","clearAll","undefined","CreateQuestion","setTitle","setHref","href2","setHref2","EditQuestion","descriptionFromStore","isEditing","setDescription","handleSubmit","onBlur","justifyContent","App","panelsHistory","closePanel","onSwipeBack","history","modal","Adaptive","node","anchorNode","resizeObserver","ResizeObserver","entry","contentRect","observe","unobserve","sizeX","SizeType","REGULAR","sizeY","COMPACT","viewWidth","ViewWidth","DESKTOP","noLegacyClasses","animate","ConfigProvider","Scheme","BRIGHT_LIGHT","scheme","setScheme","bridgeListener","detail","subscribe","unsubscribe","platform","Platform","VKCOM","webviewType","WebviewType","INTERNAL","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.24676327.chunk.js","sourcesContent":["export enum ViewIds {\n  BaseFlow = 'BaseFlow',\n}\n\nexport enum PanelIds {\n  Home = 'Home',\n  MyTests = 'MyTests',\n  Test = 'Test',\n  Success = 'Success',\n  Statistic = 'Statistic',\n  CreateQuestion = 'CreateQuestion',\n  CreateTest = 'CreateTest',\n  EditQuestion = 'EditQuestion',\n}\n\nexport enum ModalIds {\n  TestModal = 'TestModal',\n}\n","import { FC, memo } from 'react';\n\nimport { Div, ModalPage, ModalPageHeader, PanelHeaderButton } from '@vkontakte/vkui';\nimport { Icon24DoneOutline } from '@vkontakte/icons';\n\nimport { TDefaultModal } from '../TDefaultModal';\n\nexport const TestModal: FC<TDefaultModal> = memo(({ id, onClose }) => (\n  <ModalPage id={id} onClose={onClose}>\n    <ModalPageHeader\n      right={\n        <PanelHeaderButton>\n          <Icon24DoneOutline onClick={onClose} />\n        </PanelHeaderButton>\n      }\n    >\n      Test VKUI Modal\n    </ModalPageHeader>\n    <Div>\n      Some content\n      <br />\n      Some big content\n    </Div>\n  </ModalPage>\n));\n","import { ModalIds, PanelIds, ViewIds } from 'init/routerEnums';\nimport create, { GetState, SetState } from 'zustand';\n\nexport const actionBackModal = (set: SetState<RouterStore>, get: GetState<RouterStore>) => {\n  let currentModalHistory = get().modalHistory;\n  currentModalHistory = currentModalHistory.slice(0, currentModalHistory.length - 1);\n  set(() => ({ modalHistory: currentModalHistory }));\n\n  const lastIndex = currentModalHistory.length - 1;\n  let activeModal;\n\n  if (lastIndex < 0) {\n    activeModal = null;\n  } else {\n    activeModal = currentModalHistory[lastIndex];\n  }\n\n  set({ activeModal });\n};\n\nexport const actionBackView = (set: SetState<RouterStore>, get: GetState<RouterStore>) => {\n  let currentViewHistory = get().viewHistory;\n  currentViewHistory = currentViewHistory.slice(0, currentViewHistory.length - 1);\n  set(() => ({\n    viewHistory: currentViewHistory,\n    activeView: currentViewHistory[currentViewHistory.length - 1],\n  }));\n};\n\nexport const actionBackPanel = (set: SetState<RouterStore>, get: GetState<RouterStore>) => {\n  let currentPanelHistory = get().panelHistory;\n  let currentPanelParams = get().panelParams;\n  currentPanelHistory = currentPanelHistory.slice(0, currentPanelHistory.length - 1);\n  currentPanelParams = currentPanelParams.slice(0, currentPanelParams.length - 1);\n  set(() => ({ panelHistory: currentPanelHistory, panelParams: currentPanelParams }));\n\n  const lastIndex = currentPanelHistory.length - 1;\n  let activePanel;\n\n  if (lastIndex < 0) {\n    activePanel = null;\n  } else {\n    activePanel = currentPanelHistory[lastIndex];\n  }\n\n  if (activePanel) {\n    set({ activePanel });\n  }\n};\n\ntype RouterStore = {\n  panelHistory: PanelIds[];\n  activePanel: PanelIds;\n  panelParams: (Record<string, any> | null)[];\n  setActivePanel(activePanel: PanelIds, params?: Record<string, any> | null): void;\n  closeActivePanel(): void;\n\n  modalHistory: ModalIds[];\n  activeModal: ModalIds | null;\n  setActiveModal(activeModal: ModalIds): void;\n  closeActiveModal(): void;\n\n  activeView: ViewIds;\n  viewHistory: ViewIds[];\n  setActiveView(activeView: ViewIds): void;\n  closeActiveView(): void;\n};\n\nexport const useRouterStore = create<RouterStore>((set, get) => ({\n  panelHistory: [PanelIds.Home],\n  activePanel: PanelIds.Home,\n  panelParams: [null],\n  setActivePanel: (activePanel, params = null) =>\n    set((state) => ({\n      activePanel,\n      panelHistory: [...state.panelHistory, activePanel],\n      panelParams: [...state.panelParams, params],\n    })),\n  closeActivePanel: () => actionBackPanel(set, get),\n\n  modalHistory: [],\n  activeModal: null,\n  setActiveModal: (activeModal) =>\n    set((state) => ({\n      activeModal,\n      modalHistory: [...state.modalHistory, activeModal],\n    })),\n  closeActiveModal: () => actionBackModal(set, get),\n\n  viewHistory: [ViewIds.BaseFlow],\n  activeView: ViewIds.BaseFlow,\n  setActiveView: (activeView) =>\n    set((state) => ({\n      activeView,\n      viewHistory: [...state.viewHistory, activeView],\n    })),\n  closeActiveView: () => actionBackView(set, get),\n}));\n","import { FC, memo } from 'react';\n\nimport { ModalRoot } from '@vkontakte/vkui';\n\nimport { ModalIds } from 'init/routerEnums';\n\nimport { TestModal } from './TestModal/TestModal';\nimport { useRouterStore } from '../store';\n\nexport const RootModal: FC = memo(() => {\n  const activeModal = useRouterStore((state) => state.activeModal);\n  const closeActiveModal = useRouterStore((state) => state.closeActiveModal);\n\n  return (\n    <ModalRoot activeModal={activeModal}>\n      <TestModal id={ModalIds.TestModal} onClose={closeActiveModal} />\n    </ModalRoot>\n  );\n});\n","import { RichCell, RichCellProps } from '@vkontakte/vkui';\nimport { CSSProperties } from 'react';\n\nexport function TestCell({\n  style,\n  disabled = true,\n  ...cellProps\n}: { style?: CSSProperties } & RichCellProps): JSX.Element {\n  return (\n    <RichCell\n      disabled={disabled}\n      multiline\n      style={{\n        boxShadow: '0px 0px 2px rgba(0, 0, 0, 0.04), 0px 4px 4px rgba(0, 0, 0, 0.08)',\n        borderRadius: 8,\n        marginBottom: 12,\n        backgroundColor: 'var(--modal_card_background',\n        ...style,\n      }}\n      {...cellProps}\n    />\n  );\n}\n","import { Icon56ComputerOutline, Icon56FragmentsOutline, Icon56RecentOutline } from '@vkontakte/icons';\nimport { TestStatus, TestType } from './store/testsMocks';\n\nexport const getCaption = (type: TestType): string => {\n  switch (type) {\n    case 'five_sec':\n      return '5 Sec Test';\n\n    case 'first_click':\n      return 'First Click';\n\n    case 'side_by_side':\n      return 'Side by Side';\n  }\n};\n\nexport const getAfterText = (status: TestStatus): string => {\n  switch (status) {\n    case 'available':\n      return 'Доступен';\n\n    case 'completed':\n      return 'Пройден';\n\n    case 'unavailable':\n      return 'Не пройден';\n  }\n};\n\nexport const getIcon = (type: TestType): JSX.Element => {\n  switch (type) {\n    case 'five_sec':\n      return (\n        <Icon56RecentOutline\n          height={48}\n          width={48}\n          fill=\"var(--dynamic_red)\"\n          style={{ marginRight: 12, marginTop: 8, marginBottom: 8 }}\n        />\n      );\n\n    case 'first_click':\n      return (\n        <Icon56ComputerOutline\n          height={48}\n          width={48}\n          fill=\"var(--dynamic_green)\"\n          style={{ marginRight: 12, marginTop: 8, marginBottom: 8 }}\n        />\n      );\n\n    case 'side_by_side':\n      return (\n        <Icon56FragmentsOutline\n          height={48}\n          width={48}\n          fill=\"var(--dynamic_orange)\"\n          style={{ marginRight: 12, marginTop: 8, marginBottom: 8 }}\n        />\n      );\n  }\n};\n\n/**\n * @param {number} num Число, для которого будет подобрана форма слова\n * @param {string} textFor1 Форма слова для \"один/одно/одна\"\n * @param {string} textFor2 Форма слова для \"два\"\n * @param {string} textForMany форма слова для \"много\"\n * @returns {string} возвращает корректную форму слова для соответствующего числа\n */\nexport const pluralString = (num: number, textFor1: string, textFor2: string, textForMany: string): string => {\n  const remainderOfHundred = Math.abs(num) % 100;\n  const remainderOfTen = num % 10;\n\n  if (remainderOfHundred > 10 && remainderOfHundred < 20) {\n    return textForMany;\n  } else if (remainderOfTen > 1 && remainderOfTen < 5) {\n    return textFor2;\n  } else if (remainderOfTen === 1) {\n    return textFor1;\n  }\n\n  return textForMany;\n};\n","type FetchOptions = {\n  method: 'GET' | 'POST' | 'PUT' | 'DELETE';\n  mode: 'cors';\n  cache: 'no-cache';\n  credentials: 'same-origin';\n  headers: Record<string, string>;\n  redirect: 'follow';\n  referrerPolicy: 'no-referrer';\n  body?: string;\n};\n\nfunction getAuthParams() {\n  let rParams: any = {};\n\n  location.search\n    .slice(1)\n    .split('&')\n    .forEach((value) => {\n      const param = value.split('=');\n\n      rParams = {\n        ...rParams,\n        [param[0]]: param[1],\n      };\n    });\n\n  return rParams;\n}\n\nexport const authParams = getAuthParams();\n\nexport const fetchData = async (url = '', method: FetchOptions['method'] = 'GET', data = {}) => {\n  let options: FetchOptions = {\n    method, // *GET, POST, PUT, DELETE, etc.\n    mode: 'cors', // no-cors, *cors, same-origin\n    cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n    credentials: 'same-origin', // include, *same-origin, omit\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: JSON.stringify(authParams),\n    },\n    redirect: 'follow', // manual, *follow, error\n    referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\n  };\n\n  if (method === 'POST' || method === 'PUT') {\n    options = {\n      ...options,\n      body: JSON.stringify(data), // body data type must match \"Content-Type\" header\n    };\n  }\n\n  const response = await fetch(`https://lipton-it.herokuapp.com/api${url}`, options);\n\n  if (response.status !== 200) {\n    throw new Error();\n  }\n\n  const contentType = response.headers.get('content-type');\n  if (contentType && contentType.indexOf('application/json') !== -1) {\n    return response.json();\n  }\n\n  return response.text();\n};\n","import React, { memo, useEffect, useState } from 'react';\nimport { PanelIds } from 'init/routerEnums';\nimport {\n  Button,\n  Div,\n  Group,\n  Headline,\n  Panel,\n  PanelHeader,\n  PanelSpinner,\n  Placeholder,\n  Spacing,\n  Tabs,\n  TabsItem,\n} from '@vkontakte/vkui';\nimport { Icon56UsersOutline } from '@vkontakte/icons';\nimport { TPanel } from '../TPanel';\nimport { useRouterStore } from '../../store';\nimport { TestCell } from '../../components/TestCell';\nimport { TTest } from '../../store/testsMocks';\nimport { getAfterText, getCaption, getIcon } from '../../utils';\nimport { fetchData } from '../../api/Api';\n\nexport const Home: React.FC<TPanel> = memo(({ id }) => {\n  const setActivePanel = useRouterStore((state) => state.setActivePanel);\n  const [availableTests, setAvailableTests] = useState<TTest[]>([]);\n  const [unavailableTests, setUnavailableTests] = useState<TTest[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n\n  useEffect(() => {\n    const hashParams = window.location.hash\n      .replace('#', '')\n      .split('&')\n      .reduce((acc: Record<string, string>, cur) => {\n        const [key, value] = cur.split('=');\n        acc[key] = value;\n\n        return acc;\n      }, {});\n    if (hashParams.test) {\n      setActivePanel(PanelIds.Test, { id: hashParams.test });\n      window.location.hash = '';\n    }\n  }, [setActivePanel]);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const avTests = await fetchData('/test');\n        const historyTests = await fetchData('/test/history');\n        const completed: (TTest & { completed: boolean })[] = [];\n        const uncompleted: TTest[] = [];\n        avTests.forEach((test: TTest & { completed: boolean }) => {\n          if (test.completed) {\n            completed.push(test);\n          } else {\n            uncompleted.push(test);\n          }\n        });\n        setAvailableTests(uncompleted.reverse());\n        setUnavailableTests([...completed.reverse(), ...historyTests.reverse()]);\n      } catch (e) {\n        setError(true);\n      } finally {\n        setLoading(false);\n      }\n    })();\n  }, []);\n\n  return (\n    <Panel id={id}>\n      <Group separator=\"hide\">\n        <PanelHeader separator={false}>Исследования</PanelHeader>\n        <Spacing style={{ padding: 0 }} separator />\n        <Div style={{ paddingTop: 0, paddingBottom: 0 }}>\n          <Tabs>\n            <TabsItem selected>Главная</TabsItem>\n            <TabsItem onClick={() => setActivePanel(PanelIds.MyTests)} selected={false}>\n              Мои исследования\n            </TabsItem>\n          </Tabs>\n        </Div>\n        <Spacing separator />\n\n        <Div>\n          {error && <Placeholder>Ошибка</Placeholder>}\n          {loading && <PanelSpinner />}\n          {!error && !loading && !availableTests.length && !unavailableTests.length && (\n            <Placeholder icon={<Icon56UsersOutline />}>Пока нет доступных тестов</Placeholder>\n          )}\n          {!error && !loading && (\n            <>\n              {!!availableTests.length && (\n                <>\n                  <Headline weight=\"regular\" style={{ paddingBottom: 24 }}>\n                    Доступные исследования\n                  </Headline>\n                  {availableTests.map(({ _id: id, testType, title, status }) => (\n                    <TestCell\n                      key={id}\n                      caption={getCaption(testType)}\n                      before={getIcon(testType)}\n                      after={getAfterText(status)}\n                      actions={\n                        <Button mode=\"secondary\" onClick={() => setActivePanel(PanelIds.Test, { id })}>\n                          Пройти\n                        </Button>\n                      }\n                    >\n                      {title}\n                    </TestCell>\n                  ))}\n                </>\n              )}\n              {!!unavailableTests.length && (\n                <>\n                  <Headline\n                    weight=\"regular\"\n                    style={{\n                      paddingBottom: 24,\n                      ...(!!availableTests.length && { paddingTop: 36 }),\n                    }}\n                  >\n                    История исследований\n                  </Headline>\n                  {unavailableTests.map(({ _id, testType, title, status }) => (\n                    <TestCell\n                      key={_id}\n                      caption={getCaption(testType)}\n                      before={getIcon(testType)}\n                      after={getAfterText(status)}\n                      style={{ opacity: 0.4 }}\n                    >\n                      {title}\n                    </TestCell>\n                  ))}\n                </>\n              )}\n            </>\n          )}\n          {/*  <Button onClick={() => setActiveModal(ModalIds.TestModal)} size=\"m\" stretched>Open modal</Button> */}\n          {/*  <Button onClick={() => setActivePanel(PanelIds.Test, { id: 5 })} size=\"m\" stretched>Open Test</Button> */}\n        </Div>\n      </Group>\n    </Panel>\n  );\n});\n","import React, { useEffect, useRef, useState } from 'react';\nimport { PanelSpinner } from '@vkontakte/vkui';\n\nexport function Image({\n  imgUrl,\n  onLoadCallback,\n  onClick,\n  ...rest\n}: {\n  imgUrl: string;\n  onLoadCallback?: () => void;\n  onClick?: (e: React.MouseEvent<HTMLImageElement>, left?: number, top?: number) => void;\n} & Omit<\n  React.DetailedHTMLProps<React.ImgHTMLAttributes<HTMLImageElement>, HTMLImageElement>,\n  'onClick'\n>): JSX.Element {\n  const imgRef = useRef<HTMLImageElement>(null);\n  const [imgIsLoaded, setImgIsLoaded] = useState(false);\n  const onLoadCallbackRef = useRef(onLoadCallback).current;\n\n  useEffect(() => {\n    if (imgUrl && imgRef.current && !imgIsLoaded) {\n      imgRef.current.onload = () => {\n        if (imgRef.current) {\n          imgRef.current.style.display = 'block';\n          setImgIsLoaded(true);\n          onLoadCallbackRef?.();\n        }\n      };\n\n      //  на ios не файрится событие onload для img\n      if (imgRef.current.complete) {\n        // Костыль но онлоад требует ивент\n        imgRef.current.onload(new Event('onload'));\n      }\n    }\n  }, [imgUrl, imgIsLoaded, setImgIsLoaded, imgRef.current?.complete, onLoadCallbackRef]);\n\n  return (\n    <>\n      {!imgIsLoaded && <PanelSpinner />}\n      <img\n        ref={imgRef}\n        src={imgUrl}\n        width=\"100%\"\n        alt=\"\"\n        onClick={(e) => {\n          const { left, top } = imgRef.current?.getBoundingClientRect() ?? {};\n\n          onClick?.(e, left, top);\n        }}\n        {...rest}\n      />\n    </>\n  );\n}\n","import { useState } from 'react';\nimport { Button, Headline, Subhead } from '@vkontakte/vkui';\nimport { useRouterStore } from '../../store';\nimport { PanelIds } from '../../init/routerEnums';\nimport { Image } from '../../components/Image';\nimport { TestQuestion, TTestData } from '../../store/testsMocks';\nimport { fetchData } from '../../api/Api';\n\nfunction Question({\n  title,\n  data,\n  index,\n  len,\n  onClick,\n  _id,\n}: TestQuestion & {\n  index: number;\n  len: number;\n  onClick: (answer: string, questionId: string) => void;\n}): JSX.Element {\n  return (\n    <>\n      <Subhead style={{ color: 'var(--text_secondary)', paddingBottom: 2 }}>\n        Вопрос {index + 1} из {len}\n      </Subhead>\n      <Headline weight=\"regular\">{title}</Headline>\n      <Image\n        imgUrl={data[0]}\n        onClick={(e, left, top) => {\n          onClick(`${e.clientX - (left ?? 0)}|${e.clientY - (top ?? 0)}`, _id);\n        }}\n        style={{ marginTop: 24, width: '100%' }}\n      />\n      <div style={{ textAlign: 'right' }}>\n        <Button disabled style={{ marginTop: 24 }}>\n          Для ответа нажмите на картинку\n        </Button>\n      </div>\n    </>\n  );\n}\n\nexport function FirstClickContent({ title, questions }: TTestData): JSX.Element {\n  const [currentQuestion, setCurrentQuestion] = useState(0);\n  const setActivePanel = useRouterStore((state) => state.setActivePanel);\n\n  const handleOnClick = async (answer: string, questionId: string) => {\n    await fetchData('/results', 'POST', {\n      questionId,\n      data: answer,\n    });\n    if (currentQuestion === questions.length - 1) {\n      setActivePanel(PanelIds.Success, { testName: title });\n    } else {\n      setCurrentQuestion((state) => state + 1);\n    }\n  };\n\n  return (\n    <Question {...questions[currentQuestion]} index={currentQuestion} len={questions.length} onClick={handleOnClick} />\n  );\n}\n","import { Button, Headline, Subhead, Textarea } from '@vkontakte/vkui';\nimport { useEffect, useState } from 'react';\nimport { useRouterStore } from '../../store';\nimport { PanelIds } from '../../init/routerEnums';\nimport { TestQuestion } from '../../store/testsMocks';\nimport { Image } from '../../components/Image';\nimport { fetchData } from '../../api/Api';\n\nfunction Question({\n  title,\n  data,\n  _id,\n  len,\n  onClick,\n  index,\n}: TestQuestion & {\n  len: number;\n  onClick: (answer: string, questionId: string) => void;\n  index: number;\n}) {\n  const [value, setValue] = useState<string>();\n  const [showImage, setShowImage] = useState(true);\n\n  useEffect(\n    () => () => {\n      setValue('');\n      setShowImage(true);\n    },\n    [index],\n  );\n\n  return showImage ? (\n    <Image\n      imgUrl={data[0]}\n      onLoadCallback={() =>\n        setTimeout(() => {\n          setShowImage(false);\n        }, 5000)\n      }\n    />\n  ) : (\n    <>\n      <Subhead style={{ color: 'var(--text_secondary)', paddingBottom: 2 }}>\n        Вопрос {index + 1} из {len}\n      </Subhead>\n      <Headline weight=\"regular\">{title}</Headline>\n      <Subhead style={{ color: 'var(--text_secondary)', paddingTop: 24, paddingBottom: 6 }}>Ответ</Subhead>\n      <Textarea onChange={(ev) => setValue(ev.target.value)} value={value} placeholder=\"Напишите развёрнуто...\" />\n      <div style={{ textAlign: 'right' }}>\n        <Button\n          disabled={!value}\n          onClick={() => {\n            if (value) {\n              onClick(value, _id);\n            }\n          }}\n          style={{ marginTop: 24 }}\n        >\n          {index === len - 1 ? 'Завершить тест' : 'Следующий вопрос'}\n        </Button>\n      </div>\n    </>\n  );\n}\n\nexport function Questions({ questions, title }: { questions: TestQuestion[]; title: string }): JSX.Element {\n  const [currentQuestion, setCurrentQuestion] = useState(0);\n  const setActivePanel = useRouterStore((state) => state.setActivePanel);\n\n  const handleOnClick = async (answer: string, questionId: string) => {\n    await fetchData('/results', 'POST', {\n      questionId,\n      data: answer,\n    });\n    if (currentQuestion === questions.length - 1) {\n      setActivePanel(PanelIds.Success, { testName: title });\n    } else {\n      setCurrentQuestion((state) => state + 1);\n    }\n  };\n\n  return (\n    <Question {...questions[currentQuestion]} index={currentQuestion} len={questions.length} onClick={handleOnClick} />\n  );\n}\n","import { Questions } from './Questions';\nimport { TTestData } from '../../store/testsMocks';\n\nexport function FiveSecContent({ title, questions }: TTestData): JSX.Element {\n  return <Questions questions={questions} title={title} />;\n}\n","import { useState } from 'react';\nimport { Button, Caption, Gallery, Headline, Radio, Subhead, Text } from '@vkontakte/vkui';\nimport { useRouterStore } from '../../store';\nimport { PanelIds } from '../../init/routerEnums';\nimport { Image } from '../../components/Image';\nimport { TestQuestion, TTestData } from '../../store/testsMocks';\nimport { fetchData } from '../../api/Api';\n\nfunction Question({\n  title,\n  index,\n  len,\n  data,\n  _id,\n  onClick,\n}: TestQuestion & {\n  index: number;\n  len: number;\n  onClick: (answer: 0 | 1, questionId: string) => void;\n}): JSX.Element {\n  const [selected, setSelected] = useState<0 | 1>(0);\n\n  return (\n    <>\n      <Subhead style={{ color: 'var(--text_secondary)' }}>\n        Вопрос {index + 1} из {len}\n      </Subhead>\n      <Headline weight=\"regular\">{title}</Headline>\n      <Caption style={{ paddingTop: 6, color: 'var(--text_secondary)' }}>\n        (кликните по картинке, чтобы увеличить)\n      </Caption>\n      <Gallery\n        onChange={(idx) => setSelected(idx as 0 | 1)}\n        slideIndex={selected}\n        bullets={false}\n        showArrows\n        slideWidth=\"90%\"\n        style={{ marginTop: 24 }}\n      >\n        <div>\n          <a target=\"_blank\" href={data[0]} rel=\"noreferrer\" style={{ display: 'block', marginRight: 12 }}>\n            <Image imgUrl={data[0]} />\n          </a>\n          <Text weight=\"regular\" style={{ color: 'var(--text_secondary)', paddingTop: 12 }}>\n            1 вариант\n          </Text>\n        </div>\n        <div>\n          <a target=\"_blank\" href={data[1]} rel=\"noreferrer\" style={{ display: 'block', marginRight: 12 }}>\n            <Image imgUrl={data[1] ?? ''} />\n          </a>\n          <Text weight=\"regular\" style={{ color: 'var(--text_secondary)', paddingTop: 12 }}>\n            2 вариант\n          </Text>\n        </div>\n      </Gallery>\n      <Subhead weight=\"regular\" style={{ paddingTop: 32, color: 'var(--text_secondary)' }}>\n        Выберите вариант ответа\n      </Subhead>\n      <div style={{ display: 'flex', paddingTop: 2 }}>\n        <Radio name=\"variant\" checked={selected === 0} onClick={() => setSelected(0)}>\n          1 вариант\n        </Radio>\n        <Radio name=\"variant\" checked={selected === 1} onClick={() => setSelected(1)}>\n          2 вариант\n        </Radio>\n      </div>\n      <div style={{ textAlign: 'right' }}>\n        <Button\n          style={{ marginTop: 24 }}\n          onClick={() => {\n            setSelected(0);\n            onClick(selected, _id);\n          }}\n        >\n          {index === len - 1 ? 'Завершить тест' : 'Следующий вопрос'}\n        </Button>\n      </div>\n    </>\n  );\n}\n\nexport function SideBySideContent({ title, questions }: TTestData): JSX.Element {\n  const [currentQuestion, setCurrentQuestion] = useState(0);\n  const setActivePanel = useRouterStore((state) => state.setActivePanel);\n\n  const handleOnClick = async (answer: 0 | 1, questionId: string) => {\n    await fetchData('/results', 'POST', {\n      questionId,\n      data: `${answer}`,\n    });\n    if (currentQuestion === questions.length - 1) {\n      setActivePanel(PanelIds.Success, { testName: title });\n    } else {\n      setCurrentQuestion((state) => state + 1);\n    }\n  };\n\n  return (\n    <Question {...questions[currentQuestion]} index={currentQuestion} len={questions.length} onClick={handleOnClick} />\n  );\n}\n","import { Button, Placeholder } from '@vkontakte/vkui';\nimport { Icon56ComputerOutline, Icon56FragmentsOutline, Icon56RecentOutline } from '@vkontakte/icons';\nimport { useState } from 'react';\nimport { TTestData } from '../../store/testsMocks';\nimport { FirstClickContent } from './FirstClickContent';\nimport { FiveSecContent } from './FiveSecContent';\nimport { SideBySideContent } from './SideBySideContent';\n\nconst getContent = (testData: TTestData): { text: string; icon: JSX.Element; startContent?: JSX.Element } => {\n  switch (testData.testType) {\n    case 'first_click':\n      return {\n        text: 'Вы увидите вопрос и картинку. Нажмите на картинку в том месте, в котором считаете нужным. время не ограничено.',\n        icon: <Icon56ComputerOutline fill=\"var(--dynamic_green)\" />,\n        startContent: <FirstClickContent {...testData} />,\n      };\n    case 'five_sec':\n      return {\n        text: 'Вы увидите картинку на протяжении 5 секунд. Потом нужно будет ответить на вопрос.',\n        icon: <Icon56RecentOutline fill=\"var(--dynamic_red)\" />,\n        startContent: <FiveSecContent {...testData} />,\n      };\n    case 'side_by_side':\n      return {\n        text: 'В каждом вопросе будет 2 картинки. Нужно выбрать один вариант ответа. Таймера нет.',\n        icon: <Icon56FragmentsOutline fill=\"var(--dynamic_orange)\" />,\n        startContent: <SideBySideContent {...testData} />,\n      };\n  }\n};\n\nexport function TestContent(testData: TTestData): JSX.Element {\n  const { icon, text, startContent } = getContent(testData);\n  const [content, setContent] = useState<JSX.Element>();\n  const { title, description } = testData;\n\n  return (\n    content || (\n      <Placeholder icon={icon} action={<Button onClick={() => setContent(startContent)}>Начать</Button>} header={title}>\n        {text}\n        {description && (\n          <>\n            <br />\n            <br />\n            {description}\n          </>\n        )}\n      </Placeholder>\n    )\n  );\n}\n","import { FC, memo, useEffect, useRef, useState } from 'react';\nimport { Div, Group, Panel, PanelHeader, PanelSpinner, Placeholder, Spacing, Tappable, Text } from '@vkontakte/vkui';\nimport { Icon28ChevronLeftOutline } from '@vkontakte/icons';\nimport { TPanel } from '../TPanel';\nimport { useRouterStore } from '../../store';\nimport { TTestData } from '../../store/testsMocks';\nimport { TestContent } from './TestContent';\nimport { fetchData } from '../../api/Api';\n\nexport const Test: FC<TPanel> = memo(({ id }) => {\n  const closeActivePanel = useRouterStore((state) => state.closeActivePanel);\n  const panelParams = useRef(useRouterStore((state) => state.panelParams[state.panelParams.length - 1]));\n  const [testData, setTestData] = useState<TTestData>();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { id } = panelParams.current as { id: string };\n        const test = await fetchData(`/test/${id}`);\n        if (test.completed) {\n          closeActivePanel();\n\n          return;\n        }\n        setTestData(test);\n      } catch (e) {\n        setError(true);\n      } finally {\n        setLoading(false);\n      }\n    })();\n  }, [closeActivePanel]);\n\n  return (\n    <Panel id={id}>\n      <Group separator=\"hide\">\n        <PanelHeader\n          separator={false}\n          left={\n            <Tappable\n              onClick={closeActivePanel}\n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                padding: '0 10px 2px 0',\n              }}\n            >\n              <Icon28ChevronLeftOutline fill=\"var(--icon_medium)\" />\n              <Text weight=\"regular\" style={{ color: 'var(--text_secondary)' }}>\n                Назад\n              </Text>\n            </Tappable>\n          }\n        >\n          {testData?.title}\n        </PanelHeader>\n        <Spacing style={{ padding: 0 }} separator />\n        {error && <Placeholder>Ошибка, такого теста не существует</Placeholder>}\n        {loading && <PanelSpinner />}\n        {!error && !loading && testData && (\n          <Div>\n            <TestContent {...testData} />\n          </Div>\n        )}\n      </Group>\n    </Panel>\n  );\n});\n","import { FC, memo, useRef } from 'react';\nimport { Icon56CheckCircleOutline } from '@vkontakte/icons';\nimport { Button, Group, Panel, PanelHeader, Placeholder, Spacing } from '@vkontakte/vkui';\nimport { TPanel } from '../TPanel';\nimport { useRouterStore } from '../../store';\nimport { PanelIds } from '../../init/routerEnums';\n\nexport const Success: FC<TPanel> = memo(({ id }) => {\n  const setActivePanel = useRouterStore((state) => state.setActivePanel);\n  const panelParams = useRef(useRouterStore((state) => state.panelParams[state.panelParams.length - 1]));\n\n  return (\n    <Panel id={id}>\n      <Group separator=\"hide\">\n        <PanelHeader separator={false}>Исследования</PanelHeader>\n        <Spacing style={{ padding: 0 }} separator />\n        <Placeholder\n          icon={<Icon56CheckCircleOutline fill=\"var(--dynamic_green)\" />}\n          header=\"Спасибо, тест завершен\"\n          action={<Button onClick={() => setActivePanel(PanelIds.Home)}>Закрыть</Button>}\n        >\n          {panelParams.current?.testName}\n        </Placeholder>\n      </Group>\n    </Panel>\n  );\n});\n","import { Icon56UsersOutline } from '@vkontakte/icons';\nimport { FC, memo, useCallback, useEffect, useState } from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport {\n  Button,\n  Div,\n  Group,\n  Header,\n  Panel,\n  PanelHeader,\n  PanelSpinner,\n  Placeholder,\n  Spacing,\n  Switch,\n  Tabs,\n  TabsItem,\n} from '@vkontakte/vkui';\nimport { fetchData } from '../../api/Api';\nimport { TestCell } from '../../components/TestCell';\nimport { TTest } from '../../store/testsMocks';\nimport { getCaption, getIcon, pluralString } from '../../utils';\nimport { TPanel } from '../TPanel';\nimport { useRouterStore } from '../../store';\nimport { PanelIds } from '../../init/routerEnums';\n\nexport const MyTests: FC<TPanel> = memo(({ id }) => {\n  const setActivePanel = useRouterStore((state) => state.setActivePanel);\n  const [myTests, setMyTests] = useState<TTest[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n\n  const onTestStatusChange = useCallback(async (test: TTest) => {\n    try {\n      await fetchData(`/test/${test._id}`, 'PUT', {\n        ...test,\n        status: test.status === 'available' ? 'unavailable' : 'available',\n      });\n    } catch (e) {\n      setError(true);\n    }\n  }, []);\n\n  const copyLinkToClipboard = useCallback(async (test: TTest) => {\n    try {\n      await bridge.send('VKWebAppCopyText', { text: `https://vk.com/app8128820_6522588#test=${test._id}` });\n    } catch (e) {\n      setError(true);\n    }\n  }, []);\n\n  const deleteTest = async (test: TTest) => {\n    try {\n      await fetchData(`/test/${test._id}`, 'DELETE');\n      try {\n        const tests = await fetchData('/test/my');\n\n        setMyTests(tests);\n      } catch (e) {\n        setError(true);\n      } finally {\n        setLoading(false);\n      }\n    } catch (e) {}\n  };\n\n  useEffect(() => {\n    (async function () {\n      try {\n        const tests = await fetchData('/test/my');\n\n        setMyTests(tests);\n      } catch (e) {\n        setError(true);\n      } finally {\n        setLoading(false);\n      }\n    })();\n  }, []);\n\n  return (\n    <Panel id={id}>\n      <Group separator=\"hide\">\n        <PanelHeader separator={false}>Исследования</PanelHeader>\n        <Spacing style={{ padding: 0 }} separator />\n        <Div style={{ paddingTop: 0, paddingBottom: 0 }}>\n          <Tabs>\n            <TabsItem onClick={() => setActivePanel(PanelIds.Home)} selected={false}>\n              Главная\n            </TabsItem>\n            <TabsItem selected>Мои исследования</TabsItem>\n          </Tabs>\n        </Div>\n        <Spacing separator />\n        <Div>\n          {error && <Placeholder>Ошибка</Placeholder>}\n          {loading && <PanelSpinner />}\n          {!error && !loading && (\n            <>\n              {myTests.length ? (\n                <>\n                  <Header\n                    mode=\"primary\"\n                    aside={\n                      <Button mode=\"tertiary\" onClick={() => setActivePanel(PanelIds.CreateTest)}>\n                        Создать тест\n                      </Button>\n                    }\n                  >\n                    Ваши тесты\n                  </Header>\n                  {myTests.map((test: TTest) => (\n                    <TestCell\n                      key={test._id}\n                      caption={getCaption(test.testType)}\n                      before={getIcon(test.testType)}\n                      text={\n                        test.counter != null &&\n                        `${test.counter} ${pluralString(\n                          test.counter,\n                          'человек прошёл',\n                          'человека прошло',\n                          'человек прошло',\n                        )}`\n                      }\n                      after={\n                        <Switch\n                          aria-label=\"Включить\"\n                          defaultChecked={test.status === 'available'}\n                          onChange={() => {\n                            onTestStatusChange(test);\n                          }}\n                        />\n                      }\n                      actions={\n                        <>\n                          <Button\n                            mode=\"secondary\"\n                            onClick={() => setActivePanel(PanelIds.Statistic, { testId: test._id })}\n                          >\n                            Статистика\n                          </Button>\n\n                          <Button mode=\"tertiary\" onClick={() => copyLinkToClipboard(test)}>\n                            Скопировать ссылку\n                          </Button>\n\n                          <Button\n                            mode=\"tertiary\"\n                            style={{ color: 'var(--destructive)' }}\n                            onClick={() => deleteTest(test)}\n                          >\n                            Удалить тест\n                          </Button>\n                        </>\n                      }\n                    >\n                      {test.title}\n                    </TestCell>\n                  ))}\n                </>\n              ) : (\n                <Placeholder\n                  icon={<Icon56UsersOutline />}\n                  action={\n                    <Button size=\"m\" onClick={() => setActivePanel(PanelIds.CreateTest)}>\n                      Создать тест\n                    </Button>\n                  }\n                >\n                  Вы не создали ни одного теста\n                </Placeholder>\n              )}\n            </>\n          )}\n        </Div>\n      </Group>\n    </Panel>\n  );\n});\n","import { Div, Headline, Link, Progress, Spacing, Subhead } from '@vkontakte/vkui';\nimport { Image } from '../../components/Image';\nimport type { IQuestionWithResults } from './Statistic';\n\ntype TSideBySideStatProps = {\n  question: IQuestionWithResults;\n  sep: boolean;\n  title: string;\n};\n\ntype TProgressWithLabelProps = {\n  percent: number;\n  label: string;\n  gap?: boolean;\n};\n\nconst ProgressWithLabel = ({ percent, label, gap }: TProgressWithLabelProps) => {\n  return (\n    <>\n      <Progress value={percent} style={{ marginBottom: 6 }} />\n      <Headline weight=\"regular\">{label}</Headline>\n      {gap && <Spacing size={24} />}\n    </>\n  );\n};\n\nexport const SideBySideStat = ({ question, title, sep }: TSideBySideStatProps) => {\n  const total = question.results.length;\n  const firstTotal = question.results.filter((item) => item.data === '0').length;\n  const twoTotal = question.results.filter((item) => item.data === '1').length;\n\n  return (\n    <>\n      {sep && <Spacing separator size={12} />}\n\n      <Div>\n        <Subhead style={{ color: 'var(--text_secondary)', paddingBottom: 4 }}>{title}</Subhead>\n        <Headline weight=\"regular\">{question.title}</Headline>\n        <Spacing size={16} />\n        <div style={{ display: 'flex', alignItems: 'center', gridGap: '16px' }}>\n          {question.data.map((image, idx) => (\n            <Link key={`${image}_${idx}`} href={image} target=\"_blank\" style={{ width: '50%' }}>\n              <Image imgUrl={image} style={{ borderRadius: '8px' }} />\n            </Link>\n          ))}\n        </div>\n        <Spacing size={16} />\n        <ProgressWithLabel\n          percent={(firstTotal / total) * 100}\n          label={`Первый вариант — ${firstTotal} (${Math.floor((firstTotal / total) * 100)}%)`}\n          gap\n        />\n        <ProgressWithLabel\n          percent={(twoTotal / total) * 100}\n          label={`Второй вариант — ${twoTotal} (${Math.floor((twoTotal / total) * 100)}%)`}\n        />\n      </Div>\n    </>\n  );\n};\n","import { Headline, Spacing, Subhead } from '@vkontakte/vkui';\nimport { Image } from '../../components/Image';\nimport type { IQuestionWithResults } from './Statistic';\n\ntype TSideBySideStatProps = {\n  question: IQuestionWithResults;\n  sep: boolean;\n  title: string;\n};\n\ntype TBullet = {\n  x: number;\n  y: number;\n};\n\nconst Bullet = ({ x, y }: TBullet) => {\n  return (\n    <div\n      style={{\n        position: 'absolute',\n        borderRadius: '50%',\n        left: x,\n        top: y,\n        backgroundColor: '#ff0000',\n        border: '1px solid #008000',\n        opacity: 0.5,\n        width: 5,\n        height: 5,\n      }}\n    />\n  );\n};\n\nexport const FirstClickStat = ({ question, title, sep }: TSideBySideStatProps) => {\n  return (\n    <>\n      {sep && <Spacing separator size={12} />}\n\n      <Subhead style={{ color: 'var(--text_secondary)', paddingBottom: 4 }}>{title}</Subhead>\n      <Headline weight=\"regular\">{question.title}</Headline>\n      <Spacing size={16} />\n      <div style={{ position: 'relative' }}>\n        <div style={{ position: 'absolute', width: '100%', height: '100%', left: 0, top: 0 }}>\n          {question.results.map((res) => {\n            const [x, y] = res.data.split('|');\n\n            return <Bullet x={+x} y={+y} key={res.data} />;\n          })}\n        </div>\n        <Image imgUrl={question.data?.[0]} style={{ borderRadius: '8px' }} />\n      </div>\n    </>\n  );\n};\n","import { Div, Spacing, Subhead, Headline, Link } from '@vkontakte/vkui';\nimport { Image } from '../../components/Image';\nimport type { IQuestionWithResults } from './Statistic';\n\ntype TSideBySideStatProps = {\n  question: IQuestionWithResults;\n  sep: boolean;\n  title: string;\n};\n\ntype TFiveSec = {\n  date: string;\n  text: string;\n};\n\nconst Comment = ({ date, text }: TFiveSec) => {\n  return (\n    <>\n      <Spacing size={16} />\n      <Subhead style={{ color: 'var(--text_secondary)', paddingBottom: 4 }}>\n        {new Date(date).toLocaleDateString('ru-RU', { hour: '2-digit', minute: '2-digit' })}\n      </Subhead>\n      <Headline weight=\"regular\">{text}</Headline>\n    </>\n  );\n};\n\nexport const FiveSecStat = ({ question, title, sep }: TSideBySideStatProps) => {\n  return (\n    <>\n      {sep && <Spacing separator size={12} />}\n\n      <Div>\n        <Subhead style={{ color: 'var(--text_secondary)', paddingBottom: 4 }}>{title}</Subhead>\n        <Headline weight=\"regular\">{question.title}</Headline>\n        <Spacing size={16} />\n        <Link href={question.data?.[0]} target=\"_blank\">\n          <Image imgUrl={question.data?.[0]} style={{ borderRadius: '8px' }} />\n        </Link>\n        {question.results.map((res) => (\n          <Comment date={res.createdAt} text={res.data} key={res.createdAt} />\n        ))}\n      </Div>\n    </>\n  );\n};\n","import { FC, memo, useCallback, useEffect, useRef, useState } from 'react';\nimport { Div, Group, Panel, PanelHeader, Spacing, Tappable, Text } from '@vkontakte/vkui';\nimport { Icon28ChevronLeftOutline } from '@vkontakte/icons';\nimport { TPanel } from '../TPanel';\nimport { useRouterStore } from '../../store';\n\nimport { TTest } from '../../store/testsMocks';\nimport { SideBySideStat } from './SideBySideStat';\nimport { FirstClickStat } from './FirstClickStat';\nimport { FiveSecStat } from './FiveSecStat';\nimport { fetchData } from '../../api/Api';\n\nexport type TQuestion = {\n  _id: string;\n  title: string;\n  testId: TTest['_id'];\n  data: string[];\n};\n\nexport type TResult = {\n  _id: string;\n  questionId: TQuestion['_id'];\n  userId: string;\n  data: string;\n  createdAt: string;\n};\n\nexport interface IQuestionWithResults extends TQuestion {\n  results: TResult[];\n}\n\nexport interface IStatistic extends TTest {\n  questions: IQuestionWithResults[];\n}\n\nexport const Statistic: FC<TPanel> = memo(({ id }) => {\n  const closeActivePanel = useRouterStore((state) => state.closeActivePanel);\n  const panelParams = useRef(useRouterStore((state) => state.panelParams[state.panelParams.length - 1]));\n\n  const [results, setResults] = useState<IStatistic | null>(null);\n\n  useEffect(() => {\n    const testId = panelParams.current?.testId as string;\n\n    const getResults = async (testId: string) => {\n      const data: IStatistic = await fetchData(`/results/${testId}`);\n      setResults(data);\n    };\n\n    getResults(testId);\n  }, []);\n\n  const renderStatistic = useCallback(() => {\n    if (!results) return null;\n\n    return results.questions.map((question, idx) => {\n      switch (results.testType) {\n        case 'first_click':\n          return (\n            <FirstClickStat\n              sep={idx !== 0}\n              question={question}\n              title={`Вопрос ${idx + 1} из ${results.questions.length}`}\n            />\n          );\n        case 'five_sec':\n          return (\n            <FiveSecStat\n              sep={idx !== 0}\n              question={question}\n              title={`Вопрос ${idx + 1} из ${results.questions.length}`}\n            />\n          );\n        case 'side_by_side':\n          return (\n            <SideBySideStat\n              sep={idx !== 0}\n              question={question}\n              title={`Вопрос ${idx + 1} из ${results.questions.length}`}\n            />\n          );\n      }\n    });\n  }, [results]);\n\n  return (\n    <Panel id={id}>\n      <Group separator=\"hide\">\n        <PanelHeader\n          separator={false}\n          left={\n            <Tappable\n              onClick={closeActivePanel}\n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                padding: '0 10px 2px 0',\n              }}\n            >\n              <Icon28ChevronLeftOutline fill=\"var(--icon_medium)\" />\n              <Text weight=\"regular\" style={{ color: 'var(--text_secondary)' }}>\n                Назад\n              </Text>\n            </Tappable>\n          }\n        >\n          {results?.title}\n        </PanelHeader>\n        <Spacing style={{ padding: 0 }} separator />\n        <Div>{renderStatistic()}</Div>\n      </Group>\n    </Panel>\n  );\n});\n","import create from 'zustand';\nimport { TestType } from './testsMocks';\n\nexport type CreateTestQuestion = {\n  title: string;\n  description?: string;\n  data: [string, string?];\n};\n\ntype CreateTestStore = {\n  type?: TestType;\n  name?: string;\n  description?: string;\n  questions?: CreateTestQuestion[];\n  updateName(name?: string): void;\n  updateDescription(desc?: string): void;\n  updateType(type: TestType): void;\n  appendQuestion(question: CreateTestQuestion): void;\n  deleteQuestion(id: number): void;\n  clearAll(): void;\n};\n\nexport const useCreateTestStore = create<CreateTestStore>((set) => ({\n  updateName: (name: string) =>\n    set({\n      name,\n    }),\n  updateDescription: (desc: string) =>\n    set({\n      description: desc,\n    }),\n  updateType: (type: TestType) =>\n    set({\n      type,\n    }),\n  appendQuestion: (question: CreateTestQuestion) =>\n    set((state) => ({\n      questions: [...(state.questions ?? []), question],\n    })),\n  deleteQuestion: (id: number) =>\n    set((state) => {\n      const newQuestions = [...(state.questions ?? [])];\n      newQuestions.splice(id, 1);\n\n      return {\n        questions: newQuestions,\n      };\n    }),\n  clearAll: () =>\n    set({\n      name: undefined,\n      description: undefined,\n      questions: undefined,\n      type: undefined,\n    }),\n}));\n","import { FC, memo, useState } from 'react';\nimport { Icon28ChevronLeftOutline } from '@vkontakte/icons';\nimport { Button, FormItem, Group, Input, Panel, PanelHeader, Spacing, Tappable, Text } from '@vkontakte/vkui';\nimport { TPanel } from '../TPanel';\nimport { useRouterStore } from '../../store';\nimport { useCreateTestStore } from '../../store/createTestStore';\n\nexport const CreateQuestion: FC<TPanel> = memo(({ id }) => {\n  const [title, setTitle] = useState<string>();\n  const [href, setHref] = useState<string>();\n  const [href2, setHref2] = useState<string>();\n  const closeActivePanel = useRouterStore((state) => state.closeActivePanel);\n  const appendQuestion = useCreateTestStore((state) => state.appendQuestion);\n  const testType = useCreateTestStore((state) => state.type);\n\n  const handleSave = () => {\n    if (title && href && ((testType === 'side_by_side' && href2) || testType !== 'side_by_side')) {\n      const data: [string, string?] = [href];\n\n      if (href2) {\n        data.push(href2);\n      }\n\n      appendQuestion({\n        title,\n        data,\n      });\n      closeActivePanel();\n    }\n  };\n\n  return (\n    <Panel id={id}>\n      <Group separator=\"hide\">\n        <PanelHeader\n          separator={false}\n          left={\n            <Tappable\n              onClick={closeActivePanel}\n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                padding: '0 10px 2px 0',\n              }}\n            >\n              <Icon28ChevronLeftOutline fill=\"var(--icon_medium)\" />\n              <Text weight=\"regular\" style={{ color: 'var(--text_secondary)' }}>\n                Назад\n              </Text>\n            </Tappable>\n          }\n        >\n          Вопрос\n        </PanelHeader>\n        <Spacing style={{ padding: 0 }} separator />\n        <FormItem top=\"Формулировка вопроса\">\n          <Input\n            value={title}\n            onChange={(ev) => setTitle(ev.target.value)}\n            placeholder=\"Введите формулировку вопроса\"\n          />\n        </FormItem>\n        <div style={{ display: 'flex' }}>\n          <FormItem top=\"Картинка\">\n            <Input value={href} onChange={(ev) => setHref(ev.target.value)} placeholder=\"Введите ссылку на картинку\" />\n          </FormItem>\n          {testType === 'side_by_side' && (\n            <FormItem top=\"Вторая картинка\">\n              <Input\n                value={href2}\n                onChange={(ev) => setHref2(ev.target.value)}\n                placeholder=\"Введите ссылку на вторую картинку\"\n              />\n            </FormItem>\n          )}\n        </div>\n        <div style={{ paddingTop: 24, textAlign: 'right' }}>\n          <Button mode=\"secondary\" style={{ marginRight: 10 }} onClick={closeActivePanel}>\n            Не сохранять\n          </Button>\n          <Button onClick={handleSave} disabled={!title || !href}>\n            Сохранить\n          </Button>\n        </div>\n      </Group>\n    </Panel>\n  );\n});\n","import { FC, memo } from 'react';\nimport { Icon28ChevronLeftOutline } from '@vkontakte/icons';\nimport { Div, Group, Headline, Panel, PanelHeader, Spacing, Tappable, Text } from '@vkontakte/vkui';\nimport { TPanel } from '../TPanel';\nimport { useRouterStore } from '../../store';\nimport { getCaption, getIcon } from '../../utils';\nimport { TestCell } from '../../components/TestCell';\nimport { useCreateTestStore } from '../../store/createTestStore';\nimport { PanelIds } from '../../init/routerEnums';\n\nexport const CreateTest: FC<TPanel> = memo(({ id }) => {\n  const closeActivePanel = useRouterStore((state) => state.closeActivePanel);\n  const setActivePanel = useRouterStore((state) => state.setActivePanel);\n  const updateType = useCreateTestStore((state) => state.updateType);\n\n  return (\n    <Panel id={id}>\n      <Group separator=\"hide\">\n        <PanelHeader\n          separator={false}\n          left={\n            <Tappable\n              onClick={closeActivePanel}\n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                padding: '0 10px 2px 0',\n              }}\n            >\n              <Icon28ChevronLeftOutline fill=\"var(--icon_medium)\" />\n              <Text weight=\"regular\" style={{ color: 'var(--text_secondary)' }}>\n                Назад\n              </Text>\n            </Tappable>\n          }\n        >\n          Новый тест\n        </PanelHeader>\n        <Spacing style={{ padding: 0 }} separator />\n        <Div>\n          <Headline weight=\"regular\" style={{ paddingBottom: 22 }}>\n            Выберите тип теста\n          </Headline>\n          <TestCell\n            caption=\"Тест первого впечатления, оценка экранов или изображений на запоминаемость и понятность\"\n            before={getIcon('five_sec')}\n            disabled={false}\n            onClick={() => {\n              updateType('five_sec');\n              setActivePanel(PanelIds.EditQuestion);\n            }}\n          >\n            {getCaption('five_sec')}\n          </TestCell>\n          <TestCell\n            caption=\"Выбор лучшего варианта страницы, экрана или изображения. Прямое парное сравнение вариантов.\"\n            before={getIcon('side_by_side')}\n            disabled={false}\n            onClick={() => {\n              updateType('side_by_side');\n              setActivePanel(PanelIds.EditQuestion);\n            }}\n          >\n            {getCaption('side_by_side')}\n          </TestCell>\n          <TestCell\n            caption=\"Легко ли пользователю понять, куда кликнуть на экране для выполнения целевого действия.\"\n            before={getIcon('first_click')}\n            disabled={false}\n            onClick={() => {\n              updateType('first_click');\n              setActivePanel(PanelIds.EditQuestion);\n            }}\n          >\n            {getCaption('first_click')}\n          </TestCell>\n        </Div>\n      </Group>\n    </Panel>\n  );\n});\n","import { FC, memo, useRef, useState } from 'react';\nimport { Icon20TrashSmileOutline, Icon28ChevronLeftOutline } from '@vkontakte/icons';\nimport {\n  Button,\n  Div,\n  FormItem,\n  Group,\n  Headline,\n  Input,\n  Link,\n  Panel,\n  PanelHeader,\n  Spacing,\n  Subhead,\n  Tappable,\n  Text,\n} from '@vkontakte/vkui';\nimport { TPanel } from '../TPanel';\nimport { useRouterStore } from '../../store';\nimport { useCreateTestStore } from '../../store/createTestStore';\nimport { getCaption } from '../../utils';\nimport { PanelIds } from '../../init/routerEnums';\nimport { TestCell } from '../../components/TestCell';\nimport { fetchData } from '../../api/Api';\n\nexport const EditQuestion: FC<TPanel> = memo(({ id }) => {\n  const closeActivePanel = useRouterStore((state) => state.closeActivePanel);\n  const setActivePanel = useRouterStore((state) => state.setActivePanel);\n  const testType = useCreateTestStore((state) => state.type);\n  const clearAll = useCreateTestStore((state) => state.clearAll);\n  const deleteQuestion = useCreateTestStore((state) => state.deleteQuestion);\n  const updateName = useCreateTestStore((state) => state.updateName);\n  const name = useCreateTestStore((state) => state.name);\n  const descriptionFromStore = useCreateTestStore((state) => state.description);\n  const updateDescription = useCreateTestStore((state) => state.updateDescription);\n  const questions = useCreateTestStore((state) => state.questions);\n  const panelProps = useRef<{ isEditing: boolean }>(\n    useRouterStore((state) => state.panelParams[state.panelParams.length - 1]) as { isEditing: boolean },\n  );\n  const { isEditing } = panelProps.current ?? {};\n  const [title, setTitle] = useState<string>(name ?? '');\n  const [description, setDescription] = useState<string>(descriptionFromStore ?? '');\n\n  const handleSubmit = async () => {\n    if (questions?.length && questions.length > 0 && description && title) {\n      // TODO API CREATE TEST\n      await fetchData('/test', 'POST', {\n        title,\n        testType,\n        status: 'available',\n        description,\n        questions,\n      });\n      // TODO isEditing = true THEN PUT\n      // PUT BALHBALBLA\n      clearAll();\n      closeActivePanel();\n      closeActivePanel();\n    }\n  };\n\n  return (\n    <Panel id={id}>\n      <Group separator=\"hide\">\n        <PanelHeader\n          separator={false}\n          left={\n            <Tappable\n              onClick={() => {\n                closeActivePanel();\n                clearAll();\n              }}\n              style={{\n                display: 'flex',\n                alignItems: 'center',\n                padding: '0 10px 2px 0',\n              }}\n            >\n              <Icon28ChevronLeftOutline fill=\"var(--icon_medium)\" />\n              <Text weight=\"regular\" style={{ color: 'var(--text_secondary)' }}>\n                Назад\n              </Text>\n            </Tappable>\n          }\n        >\n          {testType && getCaption(testType)}\n        </PanelHeader>\n        <Spacing style={{ padding: 0 }} separator />\n        <FormItem top=\"Название теста\">\n          <Input\n            onBlur={() => updateName(title)}\n            value={title}\n            onChange={(ev) => setTitle(ev.target.value)}\n            placeholder=\"Введите название теста\"\n          />\n        </FormItem>\n        <FormItem top=\"Описание теста\">\n          <Input\n            onBlur={() => updateDescription(description)}\n            value={description}\n            onChange={(ev) => setDescription(ev.target.value)}\n            placeholder=\"Введите описание\"\n          />\n        </FormItem>\n        <Spacing separator />\n        <Div style={{ display: 'flex', justifyContent: 'space-between' }}>\n          <Headline weight=\"regular\">Вопросы</Headline>\n          {!isEditing && (\n            <Link onClick={() => setActivePanel(PanelIds.CreateQuestion)}>\n              <Subhead>Добавить вопрос</Subhead>\n            </Link>\n          )}\n        </Div>\n        <div style={isEditing ? { opacity: 0.4 } : {}}>\n          {questions?.map(({ title, data }, idx) => (\n            <TestCell\n              caption={data.length === 1 ? '1 картинка' : data.length === 2 ? '2 картинки' : '0 картинок'}\n              after={\n                <Tappable onClick={() => deleteQuestion(idx)}>\n                  <Icon20TrashSmileOutline fill=\"var(--icon_medium)\" />\n                </Tappable>\n              }\n            >\n              {title}\n            </TestCell>\n          ))}\n        </div>\n        <Spacing separator />\n        <Div style={{ display: 'flex', justifyContent: isEditing ? 'flex-end' : 'space-between', paddingTop: 24 }}>\n          {!isEditing && <Subhead>После публикации редактировать вопросы нельзя</Subhead>}\n          <Button\n            disabled={!(questions?.length && questions.length > 0 && description && title)}\n            onClick={handleSubmit}\n          >\n            Опубликовать тест\n          </Button>\n        </Div>\n      </Group>\n    </Panel>\n  );\n});\n","import { FC } from 'react';\nimport { View } from '@vkontakte/vkui';\nimport { PanelIds } from 'init/routerEnums';\nimport { RootModal } from './modals/RootModal';\nimport { Home } from './panels/Home/Home';\nimport { useRouterStore } from './store';\nimport { Test } from './panels/Test/Test';\nimport { Success } from './panels/Success/Success';\nimport { MyTests } from './panels/MyTests/MyTests';\nimport { Statistic } from './panels/Statistic/Statistic';\nimport { CreateQuestion } from './panels/CreateQuestion/CreateQuestion';\nimport { CreateTest } from './panels/CreateTest/CreateTest';\nimport { EditQuestion } from './panels/EditQuestion/EditQuestion';\n\nexport const App: FC = () => {\n  const activePanel = useRouterStore((state) => state.activePanel);\n  const activeModal = useRouterStore((state) => state.activeModal);\n  const panelsHistory = useRouterStore((state) => state.panelHistory);\n  const closePanel = useRouterStore((state) => state.closeActivePanel);\n\n  const onSwipeBack = () => {\n    if (activeModal) {\n      return;\n    }\n\n    closePanel();\n  };\n\n  return (\n    <View onSwipeBack={onSwipeBack} history={panelsHistory} modal={<RootModal />} activePanel={activePanel}>\n      <Home id={PanelIds.Home} />\n      <Test id={PanelIds.Test} />\n      <Success id={PanelIds.Success} />\n      <MyTests id={PanelIds.MyTests} />\n      <Statistic id={PanelIds.Statistic} />\n      <CreateQuestion id={PanelIds.CreateQuestion} />\n      <CreateTest id={PanelIds.CreateTest} />\n      <EditQuestion id={PanelIds.EditQuestion} />\n    </View>\n  );\n};\n","import { FC, useEffect, useRef } from 'react';\nimport { AdaptivityProvider, AppRoot, SizeType, SplitCol, SplitLayout, ViewWidth } from '@vkontakte/vkui';\nimport bridge from '@vkontakte/vk-bridge';\nimport { App } from '../App';\n\nexport const Adaptive: FC = () => {\n  const node = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    const anchorNode = node.current;\n\n    if (!anchorNode) return;\n\n    const resizeObserver = new ResizeObserver(([entry]) => {\n      if (!entry) return;\n\n      const { height, width } = entry.contentRect;\n      bridge.send('VKWebAppResizeWindow', { width, height });\n    });\n\n    resizeObserver.observe(anchorNode);\n\n    return () => {\n      resizeObserver.unobserve(anchorNode);\n    };\n  }, []);\n\n  return (\n    <AdaptivityProvider sizeX={SizeType.REGULAR} sizeY={SizeType.COMPACT} viewWidth={ViewWidth.DESKTOP}>\n      <AppRoot noLegacyClasses>\n        <SplitLayout>\n          <SplitCol animate={false}>\n            <div ref={node}>\n              <App />\n            </div>\n          </SplitCol>\n        </SplitLayout>\n      </AppRoot>\n    </AdaptivityProvider>\n  );\n};\n","import { FC, useCallback, useEffect, useState } from 'react';\nimport bridge, {\n  AnyReceiveMethodName,\n  AppearanceSchemeType,\n  VKBridgeEvent,\n  VKUpdateConfigData,\n} from '@vkontakte/vk-bridge';\nimport { ConfigProvider as VKUIConfigProvider, Platform, Scheme, WebviewType } from '@vkontakte/vkui';\nimport { Adaptive } from './Adaptive';\n\nexport const ConfigProvider: FC = () => {\n  const [scheme, setScheme] = useState<AppearanceSchemeType>(Scheme.BRIGHT_LIGHT);\n\n  const bridgeListener = useCallback(({ detail: { type, data } }: VKBridgeEvent<AnyReceiveMethodName>) => {\n    if (type !== 'VKWebAppUpdateConfig') {\n      return;\n    }\n\n    setScheme((data as VKUpdateConfigData).scheme);\n  }, []);\n\n  useEffect(() => {\n    bridge.subscribe(bridgeListener);\n    bridge.send('VKWebAppInit');\n\n    return () => bridge.unsubscribe(bridgeListener);\n  }, [bridgeListener]);\n\n  return (\n    <VKUIConfigProvider scheme={scheme} platform={Platform.VKCOM} webviewType={WebviewType.INTERNAL}>\n      <Adaptive />\n    </VKUIConfigProvider>\n  );\n};\n","import { StrictMode } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { ConfigProvider } from 'init/ConfigProvider';\n\nimport '@vkontakte/vkui/dist/vkui.css';\n\nReactDOM.render(\n  <StrictMode>\n    <ConfigProvider />\n  </StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}
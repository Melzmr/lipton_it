(this["webpackJsonpminiapp-template"]=this["webpackJsonpminiapp-template"]||[]).push([[0],{134:function(e,t,n){"use strict";n.r(t);var c,r,i,a=n(0),s=n(27),l=n.n(s),o=n(7),u=n(17),j=n.n(u),d=n(2);!function(e){e.BaseFlow="BaseFlow"}(c||(c={})),function(e){e.Home="Home",e.MyTests="MyTests",e.Test="Test",e.Success="Success",e.Statistic="Statistic",e.CreateQuestion="CreateQuestion",e.CreateTest="CreateTest",e.EditQuestion="EditQuestion"}(r||(r={})),function(e){e.TestModal="TestModal"}(i||(i={}));var b=n(135),O=n(1),x=Object(a.memo)((function(e){var t=e.id,n=e.onClose;return Object(O.jsxs)(d.n,{id:t,onClose:n,children:[Object(O.jsx)(d.o,{right:Object(O.jsx)(d.s,{children:Object(O.jsx)(b.a,{onClick:n})}),children:"Test VKUI Modal"}),Object(O.jsxs)(d.f,{children:["Some content",Object(O.jsx)("br",{}),"Some big content"]})]})})),h=n(20),f=n(29),p=n.n(f),v=p()((function(e,t){return{panelHistory:[r.Home],activePanel:r.Home,panelParams:[null],setActivePanel:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e((function(e){return{activePanel:t,panelHistory:[].concat(Object(h.a)(e.panelHistory),[t]),panelParams:[].concat(Object(h.a)(e.panelParams),[n])}}))},closeActivePanel:function(){return function(e,t){var n=t().panelHistory,c=t().panelParams;n=n.slice(0,n.length-1),c=c.slice(0,c.length-1),e((function(){return{panelHistory:n,panelParams:c}}));var r,i=n.length-1;(r=i<0?null:n[i])&&e({activePanel:r})}(e,t)},modalHistory:[],activeModal:null,setActiveModal:function(t){return e((function(e){return{activeModal:t,modalHistory:[].concat(Object(h.a)(e.modalHistory),[t])}}))},closeActiveModal:function(){return function(e,t){var n=t().modalHistory;n=n.slice(0,n.length-1),e((function(){return{modalHistory:n}}));var c=n.length-1;e({activeModal:c<0?null:n[c]})}(e,t)},viewHistory:[c.BaseFlow],activeView:c.BaseFlow,setActiveView:function(t){return e((function(e){return{activeView:t,viewHistory:[].concat(Object(h.a)(e.viewHistory),[t])}}))},closeActiveView:function(){return function(e,t){var n=t().viewHistory;n=n.slice(0,n.length-1),e((function(){return{viewHistory:n,activeView:n[n.length-1]}}))}(e,t)}}})),g=Object(a.memo)((function(){var e=v((function(e){return e.activeModal})),t=v((function(e){return e.closeActiveModal}));return Object(O.jsx)(d.p,{activeModal:e,children:Object(O.jsx)(x,{id:i.TestModal,onClose:t})})})),m=n(15),y=n(11),k=n.n(y),w=n(16),C=n(139),_=n(31);function T(e){var t=e.style,n=e.disabled,c=void 0===n||n,r=Object(_.a)(e,["style","disabled"]);return Object(O.jsx)(d.y,Object(m.a)({disabled:c,multiline:!0,style:Object(m.a)({boxShadow:"0px 0px 2px rgba(0, 0, 0, 0.04), 0px 4px 4px rgba(0, 0, 0, 0.08)",borderRadius:8,marginBottom:12,backgroundColor:"var(--modal_card_background"},t)},r))}var S=n(136),B=n(137),P=n(138),A=function(e){switch(e){case"five_sec":return"5 Sec Test";case"first_click":return"First Click";case"side_by_side":return"Side by Side"}},E=function(e){switch(e){case"available":return"\u0414\u043e\u0441\u0442\u0443\u043f\u0435\u043d";case"completed":return"\u041f\u0440\u043e\u0439\u0434\u0435\u043d";case"unavailable":return"\u041d\u0435 \u043f\u0440\u043e\u0439\u0434\u0435\u043d"}},q=function(e){switch(e){case"five_sec":return Object(O.jsx)(S.a,{height:48,width:48,fill:"var(--dynamic_red)",style:{marginRight:12,marginTop:8,marginBottom:8}});case"first_click":return Object(O.jsx)(B.a,{height:48,width:48,fill:"var(--dynamic_green)",style:{marginRight:12,marginTop:8,marginBottom:8}});case"side_by_side":return Object(O.jsx)(P.a,{height:48,width:48,fill:"var(--dynamic_orange)",style:{marginRight:12,marginTop:8,marginBottom:8}})}},H=function(e,t,n,c){var r=Math.abs(e)%100,i=e%10;return r>10&&r<20?c:i>1&&i<5?n:1===i?t:c},R=n(30);var I=function(){var e={};return location.search.slice(1).split("&").forEach((function(t){var n=t.split("=");e=Object(m.a)(Object(m.a)({},e),{},Object(R.a)({},n[0],n[1]))})),e}(),M=function(){var e=Object(w.a)(k.a.mark((function e(){var t,n,c,r,i,a,s=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:"",n=s.length>1&&void 0!==s[1]?s[1]:"GET",c=s.length>2&&void 0!==s[2]?s[2]:{},r={method:n,mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:JSON.stringify(I)},redirect:"follow",referrerPolicy:"no-referrer"},"POST"!==n&&"PUT"!==n||(r=Object(m.a)(Object(m.a)({},r),{},{body:JSON.stringify(c)})),e.next=7,fetch("https://lipton-it.herokuapp.com/api".concat(t),r);case 7:if(200===(i=e.sent).status){e.next=10;break}throw new Error;case 10:if(!(a=i.headers.get("content-type"))||-1===a.indexOf("application/json")){e.next=13;break}return e.abrupt("return",i.json());case 13:return e.abrupt("return",i.text());case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=Object(a.memo)((function(e){var t=e.id,n=v((function(e){return e.setActivePanel})),c=Object(a.useState)([]),i=Object(o.a)(c,2),s=i[0],l=i[1],u=Object(a.useState)([]),j=Object(o.a)(u,2),b=j[0],x=j[1],f=Object(a.useState)(!0),p=Object(o.a)(f,2),g=p[0],y=p[1],_=Object(a.useState)(!1),S=Object(o.a)(_,2),B=S[0],P=S[1];return Object(a.useEffect)((function(){var e=window.location.hash.replace("#","").split("&").reduce((function(e,t){var n=t.split("="),c=Object(o.a)(n,2),r=c[0],i=c[1];return e[r]=i,e}),{});e.test&&(n(r.Test,{id:e.test}),window.location.hash="")}),[n]),Object(a.useEffect)((function(){Object(w.a)(k.a.mark((function e(){var t,n,c,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M("/test");case 3:return t=e.sent,e.next=6,M("/test/history");case 6:n=e.sent,c=[],r=[],t.forEach((function(e){e.completed?c.push(e):r.push(e)})),l(r.reverse()),x([].concat(Object(h.a)(c.reverse()),Object(h.a)(n.reverse()))),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),P(!0);case 17:return e.prev=17,y(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,14,17,20]])})))()}),[]),Object(O.jsx)(d.q,{id:t,children:Object(O.jsxs)(d.i,{separator:"hide",children:[Object(O.jsx)(d.r,{separator:!1,children:"\u0418\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f"}),Object(O.jsx)(d.B,{style:{padding:0},separator:!0}),Object(O.jsx)(d.f,{style:{paddingTop:0,paddingBottom:0},children:Object(O.jsxs)(d.G,{children:[Object(O.jsx)(d.H,{selected:!0,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(O.jsx)(d.H,{onClick:function(){return n(r.MyTests)},selected:!1,children:"\u041c\u043e\u0438 \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f"})]})}),Object(O.jsx)(d.B,{separator:!0}),Object(O.jsxs)(d.f,{children:[B&&Object(O.jsx)(d.u,{children:"\u041e\u0448\u0438\u0431\u043a\u0430"}),g&&Object(O.jsx)(d.t,{}),!B&&!g&&!s.length&&!b.length&&Object(O.jsx)(d.u,{icon:Object(O.jsx)(C.a,{}),children:"\u041f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0442\u0435\u0441\u0442\u043e\u0432"}),!B&&!g&&Object(O.jsxs)(O.Fragment,{children:[!!s.length&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(d.k,{weight:"regular",style:{paddingBottom:24},children:"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f"}),s.map((function(e){var t=e._id,c=e.testType,i=e.title,a=e.status;return Object(O.jsx)(T,{caption:A(c),before:q(c),after:E(a),actions:Object(O.jsx)(d.c,{mode:"secondary",onClick:function(){return n(r.Test,{id:t})},children:"\u041f\u0440\u043e\u0439\u0442\u0438"}),children:i},t)}))]}),!!b.length&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(d.k,{weight:"regular",style:Object(m.a)({paddingBottom:24},!!s.length&&{paddingTop:36}),children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u0439"}),b.map((function(e){var t=e._id,n=e.testType,c=e.title,r=e.status;return Object(O.jsx)(T,{caption:A(n),before:q(n),after:E(r),style:{opacity:.4},children:c},t)}))]})]})]})]})})})),z=n(140);function U(e){var t,n=e.imgUrl,c=e.onLoadCallback,r=e.onClick,i=Object(_.a)(e,["imgUrl","onLoadCallback","onClick"]),s=Object(a.useRef)(null),l=Object(a.useState)(!1),u=Object(o.a)(l,2),j=u[0],b=u[1],x=Object(a.useRef)(c).current;return Object(a.useEffect)((function(){n&&s.current&&!j&&(s.current.onload=function(){s.current&&(s.current.style.display="block",b(!0),null===x||void 0===x||x())},s.current.complete&&s.current.onload(new Event("onload")))}),[n,j,b,null===(t=s.current)||void 0===t?void 0:t.complete,x]),Object(O.jsxs)(O.Fragment,{children:[!j&&Object(O.jsx)(d.t,{}),Object(O.jsx)("img",Object(m.a)({ref:s,src:n,width:"100%",alt:"",onClick:function(e){var t,n,c=null!==(t=null===(n=s.current)||void 0===n?void 0:n.getBoundingClientRect())&&void 0!==t?t:{},i=c.left,a=c.top;null===r||void 0===r||r(e,i,a)}},i))]})}function Q(e){var t=e.title,n=e.data,c=e.index,r=e.len,i=e.onClick,a=e._id;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(d.E,{style:{color:"var(--text_secondary)",paddingBottom:2},children:["\u0412\u043e\u043f\u0440\u043e\u0441 ",c+1," \u0438\u0437 ",r]}),Object(O.jsx)(d.k,{weight:"regular",children:t}),Object(O.jsx)(U,{imgUrl:n[0],onClick:function(e,t,n){i("".concat(e.clientX-(null!==t&&void 0!==t?t:0),"|").concat(e.clientY-(null!==n&&void 0!==n?n:0)),a)},style:{marginTop:24,width:"100%"}}),Object(O.jsx)("div",{style:{textAlign:"right"},children:Object(O.jsx)(d.c,{disabled:!0,style:{marginTop:24},children:"\u0414\u043b\u044f \u043e\u0442\u0432\u0435\u0442\u0430 \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"})})]})}function J(e){var t=e.title,n=e.questions,c=Object(a.useState)(0),i=Object(o.a)(c,2),s=i[0],l=i[1],u=v((function(e){return e.setActivePanel})),j=function(){var e=Object(w.a)(k.a.mark((function e(c,i){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M("/results","POST",{questionId:i,data:c});case 2:s===n.length-1?u(r.Success,{testName:t}):l((function(e){return e+1}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(O.jsx)(Q,Object(m.a)(Object(m.a)({},n[s]),{},{index:s,len:n.length,onClick:j}))}function N(e){var t=e.title,n=e.data,c=e._id,r=e.len,i=e.onClick,s=e.index,l=Object(a.useState)(),u=Object(o.a)(l,2),j=u[0],b=u[1],x=Object(a.useState)(!0),h=Object(o.a)(x,2),f=h[0],p=h[1];return Object(a.useEffect)((function(){return function(){b(""),p(!0)}}),[s]),f?Object(O.jsx)(U,{imgUrl:n[0],onLoadCallback:function(){return setTimeout((function(){p(!1)}),5e3)}}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(d.E,{style:{color:"var(--text_secondary)",paddingBottom:2},children:["\u0412\u043e\u043f\u0440\u043e\u0441 ",s+1," \u0438\u0437 ",r]}),Object(O.jsx)(d.k,{weight:"regular",children:t}),Object(O.jsx)(d.E,{style:{color:"var(--text_secondary)",paddingTop:24,paddingBottom:6},children:"\u041e\u0442\u0432\u0435\u0442"}),Object(O.jsx)(d.K,{onChange:function(e){return b(e.target.value)},value:j,placeholder:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0440\u0430\u0437\u0432\u0451\u0440\u043d\u0443\u0442\u043e..."}),Object(O.jsx)("div",{style:{textAlign:"right"},children:Object(O.jsx)(d.c,{disabled:!j,onClick:function(){j&&i(j,c)},style:{marginTop:24},children:s===r-1?"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0442\u0435\u0441\u0442":"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0432\u043e\u043f\u0440\u043e\u0441"})})]})}function V(e){var t=e.questions,n=e.title,c=Object(a.useState)(0),i=Object(o.a)(c,2),s=i[0],l=i[1],u=v((function(e){return e.setActivePanel})),j=function(){var e=Object(w.a)(k.a.mark((function e(c,i){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M("/results","POST",{questionId:i,data:c});case 2:s===t.length-1?u(r.Success,{testName:n}):l((function(e){return e+1}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(O.jsx)(N,Object(m.a)(Object(m.a)({},t[s]),{},{index:s,len:t.length,onClick:j}))}function L(e){var t=e.title,n=e.questions;return Object(O.jsx)(V,{questions:n,title:t})}function K(e){var t,n=e.title,c=e.index,r=e.len,i=e.data,s=e._id,l=e.onClick,u=Object(a.useState)(0),j=Object(o.a)(u,2),b=j[0],x=j[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(d.E,{style:{color:"var(--text_secondary)"},children:["\u0412\u043e\u043f\u0440\u043e\u0441 ",c+1," \u0438\u0437 ",r]}),Object(O.jsx)(d.k,{weight:"regular",children:n}),Object(O.jsx)(d.d,{style:{paddingTop:6,color:"var(--text_secondary)"},children:"(\u043a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043f\u043e \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0435, \u0447\u0442\u043e\u0431\u044b \u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c)"}),Object(O.jsxs)(d.h,{onChange:function(e){return x(e)},slideIndex:b,bullets:!1,showArrows:!0,slideWidth:"90%",style:{marginTop:24},children:[Object(O.jsxs)("div",{children:[Object(O.jsx)("a",{target:"_blank",href:i[0],rel:"noreferrer",style:{display:"block",marginRight:12},children:Object(O.jsx)(U,{imgUrl:i[0]})}),Object(O.jsx)(d.J,{weight:"regular",style:{color:"var(--text_secondary)",paddingTop:12},children:"1 \u0432\u0430\u0440\u0438\u0430\u043d\u0442"})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("a",{target:"_blank",href:i[1],rel:"noreferrer",style:{display:"block",marginRight:12},children:Object(O.jsx)(U,{imgUrl:null!==(t=i[1])&&void 0!==t?t:""})}),Object(O.jsx)(d.J,{weight:"regular",style:{color:"var(--text_secondary)",paddingTop:12},children:"2 \u0432\u0430\u0440\u0438\u0430\u043d\u0442"})]})]}),Object(O.jsx)(d.E,{weight:"regular",style:{paddingTop:32,color:"var(--text_secondary)"},children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u043e\u0442\u0432\u0435\u0442\u0430"}),Object(O.jsxs)("div",{style:{display:"flex",paddingTop:2},children:[Object(O.jsx)(d.x,{name:"variant",checked:0===b,onClick:function(){return x(0)},children:"1 \u0432\u0430\u0440\u0438\u0430\u043d\u0442"}),Object(O.jsx)(d.x,{name:"variant",checked:1===b,onClick:function(){return x(1)},children:"2 \u0432\u0430\u0440\u0438\u0430\u043d\u0442"})]}),Object(O.jsx)("div",{style:{textAlign:"right"},children:Object(O.jsx)(d.c,{style:{marginTop:24},onClick:function(){x(0),l(b,s)},children:c===r-1?"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0442\u0435\u0441\u0442":"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0432\u043e\u043f\u0440\u043e\u0441"})})]})}function D(e){var t=e.title,n=e.questions,c=Object(a.useState)(0),i=Object(o.a)(c,2),s=i[0],l=i[1],u=v((function(e){return e.setActivePanel})),j=function(){var e=Object(w.a)(k.a.mark((function e(c,i){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M("/results","POST",{questionId:i,data:"".concat(c)});case 2:s===n.length-1?u(r.Success,{testName:t}):l((function(e){return e+1}));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(O.jsx)(K,Object(m.a)(Object(m.a)({},n[s]),{},{index:s,len:n.length,onClick:j}))}function G(e){var t=function(e){switch(e.testType){case"first_click":return{text:"\u0412\u044b \u0443\u0432\u0438\u0434\u0438\u0442\u0435 \u0432\u043e\u043f\u0440\u043e\u0441 \u0438 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443. \u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443 \u0432 \u0442\u043e\u043c \u043c\u0435\u0441\u0442\u0435, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u0441\u0447\u0438\u0442\u0430\u0435\u0442\u0435 \u043d\u0443\u0436\u043d\u044b\u043c. \u0432\u0440\u0435\u043c\u044f \u043d\u0435 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043e.",icon:Object(O.jsx)(B.a,{fill:"var(--dynamic_green)"}),startContent:Object(O.jsx)(J,Object(m.a)({},e))};case"five_sec":return{text:"\u0412\u044b \u0443\u0432\u0438\u0434\u0438\u0442\u0435 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443 \u043d\u0430 \u043f\u0440\u043e\u0442\u044f\u0436\u0435\u043d\u0438\u0438 5 \u0441\u0435\u043a\u0443\u043d\u0434. \u041f\u043e\u0442\u043e\u043c \u043d\u0443\u0436\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u0432\u0435\u0442\u0438\u0442\u044c \u043d\u0430 \u0432\u043e\u043f\u0440\u043e\u0441.",icon:Object(O.jsx)(S.a,{fill:"var(--dynamic_red)"}),startContent:Object(O.jsx)(L,Object(m.a)({},e))};case"side_by_side":return{text:"\u0412 \u043a\u0430\u0436\u0434\u043e\u043c \u0432\u043e\u043f\u0440\u043e\u0441\u0435 \u0431\u0443\u0434\u0435\u0442 2 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438. \u041d\u0443\u0436\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043e\u0434\u0438\u043d \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u043e\u0442\u0432\u0435\u0442\u0430. \u0422\u0430\u0439\u043c\u0435\u0440\u0430 \u043d\u0435\u0442.",icon:Object(O.jsx)(P.a,{fill:"var(--dynamic_orange)"}),startContent:Object(O.jsx)(D,Object(m.a)({},e))}}}(e),n=t.icon,c=t.text,r=t.startContent,i=Object(a.useState)(),s=Object(o.a)(i,2),l=s[0],u=s[1],j=e.title,b=e.description;return l||Object(O.jsxs)(d.u,{icon:n,action:Object(O.jsx)(d.c,{onClick:function(){return u(r)},children:"\u041d\u0430\u0447\u0430\u0442\u044c"}),header:j,children:[c,b&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),b]})]})}var W=Object(a.memo)((function(e){var t=e.id,n=v((function(e){return e.closeActivePanel})),c=Object(a.useRef)(v((function(e){return e.panelParams[e.panelParams.length-1]}))),r=Object(a.useState)(),i=Object(o.a)(r,2),s=i[0],l=i[1],u=Object(a.useState)(!0),j=Object(o.a)(u,2),b=j[0],x=j[1],h=Object(a.useState)(!1),f=Object(o.a)(h,2),p=f[0],g=f[1];return Object(a.useEffect)((function(){Object(w.a)(k.a.mark((function e(){var t,n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=c.current,n=t.id,e.next=4,M("/test/".concat(n));case 4:r=e.sent,l(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),g(!0);case 11:return e.prev=11,x(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))()}),[]),Object(O.jsx)(d.q,{id:t,children:Object(O.jsxs)(d.i,{separator:"hide",children:[Object(O.jsx)(d.r,{separator:!1,left:Object(O.jsxs)(d.I,{onClick:n,style:{display:"flex",alignItems:"center",padding:"0 10px 2px 0"},children:[Object(O.jsx)(z.a,{fill:"var(--icon_medium)"}),Object(O.jsx)(d.J,{weight:"regular",style:{color:"var(--text_secondary)"},children:"\u041d\u0430\u0437\u0430\u0434"})]}),children:null===s||void 0===s?void 0:s.title}),Object(O.jsx)(d.B,{style:{padding:0},separator:!0}),p&&Object(O.jsx)(d.u,{children:"\u041e\u0448\u0438\u0431\u043a\u0430, \u0442\u0430\u043a\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"}),b&&Object(O.jsx)(d.t,{}),!p&&!b&&s&&Object(O.jsx)(d.f,{children:Object(O.jsx)(G,Object(m.a)({},s))})]})})})),X=n(141),Y=Object(a.memo)((function(e){var t,n=e.id,c=v((function(e){return e.setActivePanel})),i=Object(a.useRef)(v((function(e){return e.panelParams[e.panelParams.length-1]})));return Object(O.jsx)(d.q,{id:n,children:Object(O.jsxs)(d.i,{separator:"hide",children:[Object(O.jsx)(d.r,{separator:!1,children:"\u0418\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f"}),Object(O.jsx)(d.B,{style:{padding:0},separator:!0}),Object(O.jsx)(d.u,{icon:Object(O.jsx)(X.a,{fill:"var(--dynamic_green)"}),header:"\u0421\u043f\u0430\u0441\u0438\u0431\u043e, \u0442\u0435\u0441\u0442 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d",action:Object(O.jsx)(d.c,{onClick:function(){return c(r.Home)},children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}),children:null===(t=i.current)||void 0===t?void 0:t.testName})]})})})),Z=Object(a.memo)((function(e){var t=e.id,n=v((function(e){return e.setActivePanel})),c=Object(a.useState)([]),i=Object(o.a)(c,2),s=i[0],l=i[1],u=Object(a.useState)(!0),b=Object(o.a)(u,2),x=b[0],h=b[1],f=Object(a.useState)(!1),p=Object(o.a)(f,2),g=p[0],y=p[1],_=Object(a.useCallback)(function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M("/test/".concat(t._id),"PUT",Object(m.a)(Object(m.a)({},t),{},{status:"available"===t.status?"unavailable":"available"}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),y(!0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),[]),S=Object(a.useCallback)(function(){var e=Object(w.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.send("VKWebAppCopyText",{text:"https://vk.com/app8128820_6522588#test=".concat(t._id)});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),y(!0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),[]),B=function(){var e=Object(w.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M("/test/".concat(t._id),"DELETE");case 3:return e.prev=3,e.next=6,M("/test/my");case 6:n=e.sent,l(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),y(!0);case 13:return e.prev=13,h(!1),e.finish(13);case 16:e.next=20;break;case 18:e.prev=18,e.t1=e.catch(0);case 20:case"end":return e.stop()}}),e,null,[[0,18],[3,10,13,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){Object(w.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M("/test/my");case 3:t=e.sent,l(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),y(!0);case 10:return e.prev=10,h(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})))()}),[]),Object(O.jsx)(d.q,{id:t,children:Object(O.jsxs)(d.i,{separator:"hide",children:[Object(O.jsx)(d.r,{separator:!1,children:"\u0418\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f"}),Object(O.jsx)(d.B,{style:{padding:0},separator:!0}),Object(O.jsx)(d.f,{style:{paddingTop:0,paddingBottom:0},children:Object(O.jsxs)(d.G,{children:[Object(O.jsx)(d.H,{onClick:function(){return n(r.Home)},selected:!1,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(O.jsx)(d.H,{selected:!0,children:"\u041c\u043e\u0438 \u0438\u0441\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u043d\u0438\u044f"})]})}),Object(O.jsx)(d.B,{separator:!0}),Object(O.jsxs)(d.f,{children:[g&&Object(O.jsx)(d.u,{children:"\u041e\u0448\u0438\u0431\u043a\u0430"}),x&&Object(O.jsx)(d.t,{}),!g&&!x&&Object(O.jsx)(O.Fragment,{children:s.length?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(d.j,{mode:"primary",aside:Object(O.jsx)(d.c,{mode:"tertiary",onClick:function(){return n(r.CreateTest)},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0435\u0441\u0442"}),children:"\u0412\u0430\u0448\u0438 \u0442\u0435\u0441\u0442\u044b"}),s.map((function(e){return Object(O.jsx)(T,{caption:A(e.testType),before:q(e.testType),text:null!=e.counter&&"".concat(e.counter," ").concat(H(e.counter,"\u0447\u0435\u043b\u043e\u0432\u0435\u043a \u043f\u0440\u043e\u0448\u0451\u043b","\u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430 \u043f\u0440\u043e\u0448\u043b\u043e","\u0447\u0435\u043b\u043e\u0432\u0435\u043a \u043f\u0440\u043e\u0448\u043b\u043e")),after:Object(O.jsx)(d.F,{"aria-label":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c",defaultChecked:"available"===e.status,onChange:function(){_(e)}}),actions:Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(d.c,{mode:"secondary",onClick:function(){return n(r.Statistic,{testId:e._id})},children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"}),Object(O.jsx)(d.c,{mode:"tertiary",onClick:function(){return S(e)},children:"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443"}),Object(O.jsx)(d.c,{mode:"tertiary",style:{color:"var(--destructive)"},onClick:function(){return B(e)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u0435\u0441\u0442"})]}),children:e.title},e._id)}))]}):Object(O.jsx)(d.u,{icon:Object(O.jsx)(C.a,{}),action:Object(O.jsx)(d.c,{size:"m",onClick:function(){return n(r.CreateTest)},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0435\u0441\u0442"}),children:"\u0412\u044b \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u043b\u0438 \u043d\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430"})})]})]})})})),$=function(e){var t=e.percent,n=e.label,c=e.gap;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(d.w,{value:t,style:{marginBottom:6}}),Object(O.jsx)(d.k,{weight:"regular",children:n}),c&&Object(O.jsx)(d.B,{size:24})]})},ee=function(e){var t=e.question,n=e.title,c=e.sep,r=t.results.length,i=t.results.filter((function(e){return"0"===e.data})).length,a=t.results.filter((function(e){return"1"===e.data})).length;return Object(O.jsxs)(O.Fragment,{children:[c&&Object(O.jsx)(d.B,{separator:!0,size:12}),Object(O.jsxs)(d.f,{children:[Object(O.jsx)(d.E,{style:{color:"var(--text_secondary)",paddingBottom:4},children:n}),Object(O.jsx)(d.k,{weight:"regular",children:t.title}),Object(O.jsx)(d.B,{size:16}),Object(O.jsx)("div",{style:{display:"flex",alignItems:"center",gridGap:"16px"},children:t.data.map((function(e,t){return Object(O.jsx)(d.m,{href:e,target:"_blank",style:{width:"50%"},children:Object(O.jsx)(U,{imgUrl:e,style:{borderRadius:"8px"}})},"".concat(e,"_").concat(t))}))}),Object(O.jsx)(d.B,{size:16}),Object(O.jsx)($,{percent:i/r*100,label:"\u041f\u0435\u0440\u0432\u044b\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u2014 ".concat(i," (").concat(Math.floor(i/r*100),"%)"),gap:!0}),Object(O.jsx)($,{percent:a/r*100,label:"\u0412\u0442\u043e\u0440\u043e\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u2014 ".concat(a," (").concat(Math.floor(a/r*100),"%)")})]})]})},te=function(e){var t=e.x,n=e.y;return Object(O.jsx)("div",{style:{position:"absolute",borderRadius:"50%",left:t,top:n,backgroundColor:"#ff0000",border:"1px solid #008000",opacity:.5,width:5,height:5}})},ne=function(e){var t,n=e.question,c=e.title,r=e.sep;return Object(O.jsxs)(O.Fragment,{children:[r&&Object(O.jsx)(d.B,{separator:!0,size:12}),Object(O.jsx)(d.E,{style:{color:"var(--text_secondary)",paddingBottom:4},children:c}),Object(O.jsx)(d.k,{weight:"regular",children:n.title}),Object(O.jsx)(d.B,{size:16}),Object(O.jsxs)("div",{style:{position:"relative"},children:[Object(O.jsx)("div",{style:{position:"absolute",width:"100%",height:"100%",left:0,top:0},children:n.results.map((function(e){var t=e.data.split("|"),n=Object(o.a)(t,2),c=n[0],r=n[1];return Object(O.jsx)(te,{x:+c,y:+r},e.data)}))}),Object(O.jsx)(U,{imgUrl:null===(t=n.data)||void 0===t?void 0:t[0],style:{borderRadius:"8px"}})]})]})},ce=function(e){var t=e.date,n=e.text;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(d.B,{size:16}),Object(O.jsx)(d.E,{style:{color:"var(--text_secondary)",paddingBottom:4},children:new Date(t).toLocaleDateString("ru-RU",{hour:"2-digit",minute:"2-digit"})}),Object(O.jsx)(d.k,{weight:"regular",children:n})]})},re=function(e){var t,n,c=e.question,r=e.title,i=e.sep;return Object(O.jsxs)(O.Fragment,{children:[i&&Object(O.jsx)(d.B,{separator:!0,size:12}),Object(O.jsxs)(d.f,{children:[Object(O.jsx)(d.E,{style:{color:"var(--text_secondary)",paddingBottom:4},children:r}),Object(O.jsx)(d.k,{weight:"regular",children:c.title}),Object(O.jsx)(d.B,{size:16}),Object(O.jsx)(d.m,{href:null===(t=c.data)||void 0===t?void 0:t[0],target:"_blank",children:Object(O.jsx)(U,{imgUrl:null===(n=c.data)||void 0===n?void 0:n[0],style:{borderRadius:"8px"}})}),c.results.map((function(e){return Object(O.jsx)(ce,{date:e.createdAt,text:e.data},e.createdAt)}))]})]})},ie=Object(a.memo)((function(e){var t=e.id,n=v((function(e){return e.closeActivePanel})),c=Object(a.useRef)(v((function(e){return e.panelParams[e.panelParams.length-1]}))),r=Object(a.useState)(null),i=Object(o.a)(r,2),s=i[0],l=i[1];Object(a.useEffect)((function(){var e,t=null===(e=c.current)||void 0===e?void 0:e.testId;(function(){var e=Object(w.a)(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M("/results/".concat(t));case 2:n=e.sent,l(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(t)}),[]);var u=Object(a.useCallback)((function(){return s?s.questions.map((function(e,t){switch(s.testType){case"first_click":return Object(O.jsx)(ne,{sep:0!==t,question:e,title:"\u0412\u043e\u043f\u0440\u043e\u0441 ".concat(t+1," \u0438\u0437 ").concat(s.questions.length)});case"five_sec":return Object(O.jsx)(re,{sep:0!==t,question:e,title:"\u0412\u043e\u043f\u0440\u043e\u0441 ".concat(t+1," \u0438\u0437 ").concat(s.questions.length)});case"side_by_side":return Object(O.jsx)(ee,{sep:0!==t,question:e,title:"\u0412\u043e\u043f\u0440\u043e\u0441 ".concat(t+1," \u0438\u0437 ").concat(s.questions.length)})}})):null}),[s]);return Object(O.jsx)(d.q,{id:t,children:Object(O.jsxs)(d.i,{separator:"hide",children:[Object(O.jsx)(d.r,{separator:!1,left:Object(O.jsxs)(d.I,{onClick:n,style:{display:"flex",alignItems:"center",padding:"0 10px 2px 0"},children:[Object(O.jsx)(z.a,{fill:"var(--icon_medium)"}),Object(O.jsx)(d.J,{weight:"regular",style:{color:"var(--text_secondary)"},children:"\u041d\u0430\u0437\u0430\u0434"})]}),children:null===s||void 0===s?void 0:s.title}),Object(O.jsx)(d.B,{style:{padding:0},separator:!0}),Object(O.jsx)(d.f,{children:u()})]})})})),ae=p()((function(e){return{updateName:function(t){return e({name:t})},updateDescription:function(t){return e({description:t})},updateType:function(t){return e({type:t})},appendQuestion:function(t){return e((function(e){var n;return{questions:[].concat(Object(h.a)(null!==(n=e.questions)&&void 0!==n?n:[]),[t])}}))},deleteQuestion:function(t){return e((function(e){var n,c=Object(h.a)(null!==(n=e.questions)&&void 0!==n?n:[]);return c.splice(t,1),{questions:c}}))},clearAll:function(){return e({name:void 0,description:void 0,questions:void 0,type:void 0})}}})),se=Object(a.memo)((function(e){var t=e.id,n=Object(a.useState)(),c=Object(o.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)(),l=Object(o.a)(s,2),u=l[0],j=l[1],b=Object(a.useState)(),x=Object(o.a)(b,2),h=x[0],f=x[1],p=v((function(e){return e.closeActivePanel})),g=ae((function(e){return e.appendQuestion})),m=ae((function(e){return e.type}));return Object(O.jsx)(d.q,{id:t,children:Object(O.jsxs)(d.i,{separator:"hide",children:[Object(O.jsx)(d.r,{separator:!1,left:Object(O.jsxs)(d.I,{onClick:p,style:{display:"flex",alignItems:"center",padding:"0 10px 2px 0"},children:[Object(O.jsx)(z.a,{fill:"var(--icon_medium)"}),Object(O.jsx)(d.J,{weight:"regular",style:{color:"var(--text_secondary)"},children:"\u041d\u0430\u0437\u0430\u0434"})]}),children:"\u0412\u043e\u043f\u0440\u043e\u0441"}),Object(O.jsx)(d.B,{style:{padding:0},separator:!0}),Object(O.jsx)(d.g,{top:"\u0424\u043e\u0440\u043c\u0443\u043b\u0438\u0440\u043e\u0432\u043a\u0430 \u0432\u043e\u043f\u0440\u043e\u0441\u0430",children:Object(O.jsx)(d.l,{value:r,onChange:function(e){return i(e.target.value)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u043e\u0440\u043c\u0443\u043b\u0438\u0440\u043e\u0432\u043a\u0443 \u0432\u043e\u043f\u0440\u043e\u0441\u0430"})}),Object(O.jsxs)("div",{style:{display:"flex"},children:[Object(O.jsx)(d.g,{top:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430",children:Object(O.jsx)(d.l,{value:u,onChange:function(e){return j(e.target.value)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"})}),"side_by_side"===m&&Object(O.jsx)(d.g,{top:"\u0412\u0442\u043e\u0440\u0430\u044f \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430",children:Object(O.jsx)(d.l,{value:h,onChange:function(e){return f(e.target.value)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0432\u0442\u043e\u0440\u0443\u044e \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443"})})]}),Object(O.jsxs)("div",{style:{paddingTop:24,textAlign:"right"},children:[Object(O.jsx)(d.c,{mode:"secondary",style:{marginRight:10},onClick:p,children:"\u041d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c"}),Object(O.jsx)(d.c,{onClick:function(){if(r&&u&&("side_by_side"===m&&h||"side_by_side"!==m)){var e=[u];h&&e.push(h),g({title:r,data:e}),p()}},disabled:!r||!u,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})})})),le=Object(a.memo)((function(e){var t=e.id,n=v((function(e){return e.closeActivePanel})),c=v((function(e){return e.setActivePanel})),i=ae((function(e){return e.updateType}));return Object(O.jsx)(d.q,{id:t,children:Object(O.jsxs)(d.i,{separator:"hide",children:[Object(O.jsx)(d.r,{separator:!1,left:Object(O.jsxs)(d.I,{onClick:n,style:{display:"flex",alignItems:"center",padding:"0 10px 2px 0"},children:[Object(O.jsx)(z.a,{fill:"var(--icon_medium)"}),Object(O.jsx)(d.J,{weight:"regular",style:{color:"var(--text_secondary)"},children:"\u041d\u0430\u0437\u0430\u0434"})]}),children:"\u041d\u043e\u0432\u044b\u0439 \u0442\u0435\u0441\u0442"}),Object(O.jsx)(d.B,{style:{padding:0},separator:!0}),Object(O.jsxs)(d.f,{children:[Object(O.jsx)(d.k,{weight:"regular",style:{paddingBottom:22},children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f \u0442\u0435\u0441\u0442\u0430"}),Object(O.jsx)(T,{caption:"\u0422\u0435\u0441\u0442 \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u0432\u043f\u0435\u0447\u0430\u0442\u043b\u0435\u043d\u0438\u044f, \u043e\u0446\u0435\u043d\u043a\u0430 \u044d\u043a\u0440\u0430\u043d\u043e\u0432 \u0438\u043b\u0438 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u043d\u0430 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u0435\u043c\u043e\u0441\u0442\u044c \u0438 \u043f\u043e\u043d\u044f\u0442\u043d\u043e\u0441\u0442\u044c",before:q("five_sec"),disabled:!1,onClick:function(){i("five_sec"),c(r.EditQuestion)},children:A("five_sec")}),Object(O.jsx)(T,{caption:"\u0412\u044b\u0431\u043e\u0440 \u043b\u0443\u0447\u0448\u0435\u0433\u043e \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b, \u044d\u043a\u0440\u0430\u043d\u0430 \u0438\u043b\u0438 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f. \u041f\u0440\u044f\u043c\u043e\u0435 \u043f\u0430\u0440\u043d\u043e\u0435 \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432.",before:q("side_by_side"),disabled:!1,onClick:function(){i("side_by_side"),c(r.EditQuestion)},children:A("side_by_side")}),Object(O.jsx)(T,{caption:"\u041b\u0435\u0433\u043a\u043e \u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u043f\u043e\u043d\u044f\u0442\u044c, \u043a\u0443\u0434\u0430 \u043a\u043b\u0438\u043a\u043d\u0443\u0442\u044c \u043d\u0430 \u044d\u043a\u0440\u0430\u043d\u0435 \u0434\u043b\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0446\u0435\u043b\u0435\u0432\u043e\u0433\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f.",before:q("first_click"),disabled:!1,onClick:function(){i("first_click"),c(r.EditQuestion)},children:A("first_click")})]})]})})})),oe=n(142),ue=Object(a.memo)((function(e){var t,n=e.id,c=v((function(e){return e.closeActivePanel})),i=v((function(e){return e.setActivePanel})),s=ae((function(e){return e.type})),l=ae((function(e){return e.clearAll})),u=ae((function(e){return e.deleteQuestion})),j=ae((function(e){return e.updateName})),b=ae((function(e){return e.name})),x=ae((function(e){return e.description})),h=ae((function(e){return e.updateDescription})),f=ae((function(e){return e.questions})),p=(null!==(t=Object(a.useRef)(v((function(e){return e.panelParams[e.panelParams.length-1]}))).current)&&void 0!==t?t:{}).isEditing,g=Object(a.useState)(null!==b&&void 0!==b?b:""),m=Object(o.a)(g,2),y=m[0],C=m[1],_=Object(a.useState)(null!==x&&void 0!==x?x:""),S=Object(o.a)(_,2),B=S[0],P=S[1],E=function(){var e=Object(w.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((null===f||void 0===f?void 0:f.length)&&f.length>0&&B&&y)){e.next=6;break}return e.next=3,M("/test","POST",{title:y,testType:s,status:"available",description:B,questions:f});case 3:l(),c(),c();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsx)(d.q,{id:n,children:Object(O.jsxs)(d.i,{separator:"hide",children:[Object(O.jsx)(d.r,{separator:!1,left:Object(O.jsxs)(d.I,{onClick:function(){c(),l()},style:{display:"flex",alignItems:"center",padding:"0 10px 2px 0"},children:[Object(O.jsx)(z.a,{fill:"var(--icon_medium)"}),Object(O.jsx)(d.J,{weight:"regular",style:{color:"var(--text_secondary)"},children:"\u041d\u0430\u0437\u0430\u0434"})]}),children:s&&A(s)}),Object(O.jsx)(d.B,{style:{padding:0},separator:!0}),Object(O.jsx)(d.g,{top:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u0430",children:Object(O.jsx)(d.l,{onBlur:function(){return j(y)},value:y,onChange:function(e){return C(e.target.value)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u0430"})}),Object(O.jsx)(d.g,{top:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u0435\u0441\u0442\u0430",children:Object(O.jsx)(d.l,{onBlur:function(){return h(B)},value:B,onChange:function(e){return P(e.target.value)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"})}),Object(O.jsx)(d.B,{separator:!0}),Object(O.jsxs)(d.f,{style:{display:"flex",justifyContent:"space-between"},children:[Object(O.jsx)(d.k,{weight:"regular",children:"\u0412\u043e\u043f\u0440\u043e\u0441\u044b"}),!p&&Object(O.jsx)(d.m,{onClick:function(){return i(r.CreateQuestion)},children:Object(O.jsx)(d.E,{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441"})})]}),Object(O.jsx)("div",{style:p?{opacity:.4}:{},children:null===f||void 0===f?void 0:f.map((function(e,t){var n=e.title,c=e.data;return Object(O.jsx)(T,{caption:1===c.length?"1 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430":2===c.length?"2 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438":"0 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a",after:Object(O.jsx)(d.I,{onClick:function(){return u(t)},children:Object(O.jsx)(oe.a,{fill:"var(--icon_medium)"})}),children:n})}))}),Object(O.jsx)(d.B,{separator:!0}),Object(O.jsxs)(d.f,{style:{display:"flex",justifyContent:p?"flex-end":"space-between",paddingTop:24},children:[!p&&Object(O.jsx)(d.E,{children:"\u041f\u043e\u0441\u043b\u0435 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u044b \u043d\u0435\u043b\u044c\u0437\u044f"}),Object(O.jsx)(d.c,{disabled:!((null===f||void 0===f?void 0:f.length)&&f.length>0&&B&&y),onClick:E,children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c \u0442\u0435\u0441\u0442"})]})]})})})),je=function(){var e=v((function(e){return e.activePanel})),t=v((function(e){return e.activeModal})),n=v((function(e){return e.panelHistory})),c=v((function(e){return e.closeActivePanel}));return Object(O.jsxs)(d.L,{onSwipeBack:function(){t||c()},history:n,modal:Object(O.jsx)(g,{}),activePanel:e,children:[Object(O.jsx)(F,{id:r.Home}),Object(O.jsx)(W,{id:r.Test}),Object(O.jsx)(Y,{id:r.Success}),Object(O.jsx)(Z,{id:r.MyTests}),Object(O.jsx)(ie,{id:r.Statistic}),Object(O.jsx)(se,{id:r.CreateQuestion}),Object(O.jsx)(le,{id:r.CreateTest}),Object(O.jsx)(ue,{id:r.EditQuestion})]})},de=function(){var e=Object(a.useRef)(null);return Object(a.useEffect)((function(){var t=e.current;if(t){var n=new ResizeObserver((function(e){var t=Object(o.a)(e,1)[0];if(t){var n=t.contentRect,c=n.height,r=n.width;j.a.send("VKWebAppResizeWindow",{width:r,height:c})}}));return n.observe(t),function(){n.unobserve(t)}}}),[]),Object(O.jsx)(d.a,{sizeX:d.A.REGULAR,sizeY:d.A.COMPACT,viewWidth:d.M.DESKTOP,children:Object(O.jsx)(d.b,{noLegacyClasses:!0,children:Object(O.jsx)(d.D,{children:Object(O.jsx)(d.C,{animate:!1,children:Object(O.jsx)("div",{ref:e,children:Object(O.jsx)(je,{})})})})})})},be=function(){var e=Object(a.useState)(d.z.BRIGHT_LIGHT),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useCallback)((function(e){var t=e.detail,n=t.type,r=t.data;"VKWebAppUpdateConfig"===n&&c(r.scheme)}),[]);return Object(a.useEffect)((function(){return j.a.subscribe(r),j.a.send("VKWebAppInit"),function(){return j.a.unsubscribe(r)}}),[r]),Object(O.jsx)(d.e,{scheme:n,platform:d.v.VKCOM,webviewType:d.N.INTERNAL,children:Object(O.jsx)(de,{})})};n(133);l.a.render(Object(O.jsx)(a.StrictMode,{children:Object(O.jsx)(be,{})}),document.getElementById("root"))}},[[134,1,2]]]);
//# sourceMappingURL=main.fa0f5ca1.chunk.js.map